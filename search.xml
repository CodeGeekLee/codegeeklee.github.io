<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>èµ¶å¿«çœ‹çœ‹Java11ï¼Œä¸ç„¶ä½ å°±outäº†</title>
      <link href="/2019/11/05/gan-kuai-kan-kan-java11-bu-ran-ni-jiu-out-liao/"/>
      <url>/2019/11/05/gan-kuai-kan-kan-java11-bu-ran-ni-jiu-out-liao/</url>
      
        <content type="html"><![CDATA[<h3 id="ä¸ºä»€ä¹ˆé€‰æ‹©Java11"><a href="#ä¸ºä»€ä¹ˆé€‰æ‹©Java11" class="headerlink" title="ä¸ºä»€ä¹ˆé€‰æ‹©Java11"></a>ä¸ºä»€ä¹ˆé€‰æ‹©Java11</h3><ul><li>å®¹å™¨ç¯å¢ƒæ”¯æŒï¼ŒGCç­‰é¢†åŸŸçš„å¢å¼ºã€‚</li><li>è¿›è¡Œäº†ç˜¦èº«ï¼Œæ›´è½»é‡çº§ï¼Œå®‰è£…åŒ…ä½“ç§¯å°ã€‚</li><li>JDK11 æ˜¯ä¸€ä¸ªé•¿æœŸæ”¯æŒç‰ˆã€‚</li></ul><h3 id="ç‰¹æ€§ä»‹ç»"><a href="#ç‰¹æ€§ä»‹ç»" class="headerlink" title="ç‰¹æ€§ä»‹ç»"></a>ç‰¹æ€§ä»‹ç»</h3><p>ç”±äºç›´æ¥ä»Java8è·¨è¶Šåˆ°Java11ï¼Œæ‰€ä»¥ç‰¹æ€§ä»‹ç»å°±æŠŠJava9-Java11çš„éƒ¨åˆ†ç‰¹æ€§ä¸€èµ·ä»‹ç»ä¸€ä¸‹ã€‚æƒ³è¦äº†è§£Java8ç‰¹æ€§çš„æœ‹å‹å¯ä»¥å»æˆ‘çš„åšå®¢æ‰¾ã€ŒJava8ç³»åˆ—ã€ã€‚</p><h4 id="Jshell-since-9"><a href="#Jshell-since-9" class="headerlink" title="Jshell  @since 9"></a>Jshell  @since 9</h4><p>Jshellåœ¨Java9ä¸­å°±è¢«æå‡ºæ¥äº†ï¼Œå¯ä»¥ç›´æ¥åœ¨ç»ˆç«¯å†™Javaç¨‹åºï¼Œå›è½¦å°±å¯ä»¥æ‰§è¡Œã€‚Jshellé»˜è®¤ä¼šå¯¼å…¥ä¸‹é¢çš„ä¸€äº›åŒ…,æ‰€ä»¥åœ¨Jshellç¯å¢ƒä¸­è¿™äº›åŒ…çš„å†…å®¹éƒ½æ˜¯å¯ä»¥ä½¿ç”¨çš„ã€‚</p><pre><code>import java.lang.*;import java.io.*;import java.math.*;import java.net.*;import java.nio.file.*;import java.util.*;import java.util.concurrent.*;import java.util.function.*;import java.util.prefs.*;import java.util.regex.*;import java.util.stream.*;</code></pre><h5 id="1-ä»€ä¹ˆæ˜¯Jshell"><a href="#1-ä»€ä¹ˆæ˜¯Jshell" class="headerlink" title="1.ä»€ä¹ˆæ˜¯Jshell?"></a>1.ä»€ä¹ˆæ˜¯Jshell?</h5><p>Jshellæ˜¯åœ¨ Java 9 ä¸­å¼•å…¥çš„ã€‚å®ƒæä¾›äº†ä¸€ä¸ªäº¤äº’å¼ shellï¼Œç”¨äºå¿«é€ŸåŸå‹ã€è°ƒè¯•ã€å­¦ä¹  Java åŠ Java APIï¼Œæ‰€æœ‰è¿™äº›éƒ½ä¸éœ€è¦ public static void main æ–¹æ³•ï¼Œä¹Ÿä¸éœ€è¦åœ¨æ‰§è¡Œä¹‹å‰ç¼–è¯‘ä»£ç ã€‚</p><h5 id="2-Jshellçš„ä½¿ç”¨"><a href="#2-Jshellçš„ä½¿ç”¨" class="headerlink" title="2.Jshellçš„ä½¿ç”¨"></a>2.Jshellçš„ä½¿ç”¨</h5><p>æ‰“å¼€ç»ˆç«¯ï¼Œé”®å…¥jshellè¿›å…¥jshellç¯å¢ƒï¼Œç„¶åè¾“å…¥/help introå¯ä»¥æŸ¥çœ‹Jshellçš„ä»‹ç»ã€‚</p><pre><code> lixiaoshuang@localhost î‚° ~ î‚° jshell|  æ¬¢è¿ä½¿ç”¨ JShell -- ç‰ˆæœ¬ 11.0.2|  è¦å¤§è‡´äº†è§£è¯¥ç‰ˆæœ¬, è¯·é”®å…¥: /help introjshell&gt; /help intro||                                   intro|                                   =====||  ä½¿ç”¨ jshell å·¥å…·å¯ä»¥æ‰§è¡Œ Java ä»£ç ï¼Œä»è€Œç«‹å³è·å–ç»“æœã€‚|  æ‚¨å¯ä»¥è¾“å…¥ Java å®šä¹‰ï¼ˆå˜é‡ã€æ–¹æ³•ã€ç±»ç­‰ç­‰ï¼‰ï¼Œä¾‹å¦‚ï¼šint x = 8|  æˆ– Java è¡¨è¾¾å¼ï¼Œä¾‹å¦‚ï¼šx + x|  æˆ– Java è¯­å¥æˆ–å¯¼å…¥ã€‚|  è¿™äº›å°å—çš„ Java ä»£ç ç§°ä¸ºâ€œç‰‡æ®µâ€ã€‚||  è¿™äº› jshell å·¥å…·å‘½ä»¤è¿˜å¯ä»¥è®©æ‚¨äº†è§£å’Œ|  æ§åˆ¶æ‚¨æ­£åœ¨æ‰§è¡Œçš„æ“ä½œï¼Œä¾‹å¦‚ï¼š/list||  æœ‰å…³å‘½ä»¤çš„åˆ—è¡¨ï¼Œè¯·æ‰§è¡Œï¼š/helpjshell&gt;</code></pre><p>Jshellç¡®å®æ˜¯ä¸€ä¸ªå¥½ç”¨çš„å°å·¥å…·ï¼Œè¿™é‡Œä¸åšè¿‡å¤šä»‹ç»ï¼Œæˆ‘å°±ä¸¾ä¸€ä¸ªä¾‹å­ï¼Œå‰©ä¸‹çš„å¤§å®¶è‡ªå·±ä½“ä¼šã€‚æ¯”å¦‚æˆ‘ä»¬ç°åœ¨å°±æƒ³éšæœºç”Ÿæˆä¸€ä¸ªUUIDï¼Œä»¥å‰éœ€è¦è¿™ä¹ˆåšï¼š</p><ul><li>åˆ›å»ºä¸€ä¸ªç±»ã€‚</li><li>åˆ›å»ºä¸€ä¸ªmainæ–¹æ³•ã€‚</li><li>ç„¶åå†™ä¸€ä¸ªç”ŸæˆUUIDçš„é€»è¾‘ï¼Œæ‰§è¡Œã€‚</li></ul><p>ç°åœ¨åªéœ€è¦,è¿›å…¥æ‰“å¼€ç»ˆç«¯é”®å…¥jshell,ç„¶åç›´æ¥è¾“å…¥<code>var uuid = UUID.randomUUID()</code>å›è½¦ã€‚å°±å¯ä»¥çœ‹åˆ°uuidçš„å›æ˜¾ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¾—åˆ°äº†ä¸€ä¸ªuuidã€‚å¹¶ä¸éœ€è¦public static void main;</p><pre><code> lixiaoshuang@localhost î‚° ~ î‚° jshell|  æ¬¢è¿ä½¿ç”¨ JShell -- ç‰ˆæœ¬ 11.0.2|  è¦å¤§è‡´äº†è§£è¯¥ç‰ˆæœ¬, è¯·é”®å…¥: /help introjshell&gt; var uuid = UUID.randomUUID(); uuid ==&gt; 9dac239e-c572-494f-b06d-84576212e012jshell&gt;</code></pre><h5 id="3-æ€ä¹ˆé€€å‡ºJshellï¼Ÿ"><a href="#3-æ€ä¹ˆé€€å‡ºJshellï¼Ÿ" class="headerlink" title="3.æ€ä¹ˆé€€å‡ºJshellï¼Ÿ"></a>3.æ€ä¹ˆé€€å‡ºJshellï¼Ÿ</h5><p>åœ¨Jshellç¯å¢ƒä¸­é”®å…¥<code>/exit</code>å°±å¯ä»¥é€€å‡ºã€‚</p><pre><code> lixiaoshuang@localhost î‚° ~ î‚° lixiaoshuang@localhost î‚° ~ î‚° jshell|  æ¬¢è¿ä½¿ç”¨ JShell -- ç‰ˆæœ¬ 11.0.2|  è¦å¤§è‡´äº†è§£è¯¥ç‰ˆæœ¬, è¯·é”®å…¥: /help introjshell&gt; var uuid = UUID.randomUUID();uuid ==&gt; 9dac239e-c572-494f-b06d-84576212e012jshell&gt; /exit|  å†è§ lixiaoshuang@localhost î‚° ~ î‚°</code></pre><h4 id="æ¨¡å—åŒ–ï¼ˆModuleï¼‰-since-9"><a href="#æ¨¡å—åŒ–ï¼ˆModuleï¼‰-since-9" class="headerlink" title="æ¨¡å—åŒ–ï¼ˆModuleï¼‰@since 9"></a>æ¨¡å—åŒ–ï¼ˆModuleï¼‰@since 9</h4><h5 id="1-ä»€ä¹ˆæ˜¯æ¨¡å—åŒ–ï¼Ÿ"><a href="#1-ä»€ä¹ˆæ˜¯æ¨¡å—åŒ–ï¼Ÿ" class="headerlink" title="1.ä»€ä¹ˆæ˜¯æ¨¡å—åŒ–ï¼Ÿ"></a>1.ä»€ä¹ˆæ˜¯æ¨¡å—åŒ–ï¼Ÿ</h5><p>æ¨¡å—åŒ–å°±æ˜¯å¢åŠ äº†æ›´é«˜çº§åˆ«çš„èšåˆï¼Œæ˜¯Packageçš„å°è£…ä½“ã€‚Packageæ˜¯ä¸€äº›ç±»è·¯å¾„åå­—çš„çº¦å®šï¼Œè€Œæ¨¡å—æ˜¯ä¸€ä¸ªæˆ–å¤šä¸ªPackageç»„æˆçš„å°è£…ä½“ã€‚</p><p>java9ä»¥å‰ ï¼špackage =&gt; class/interfaceã€‚</p><p>java9ä»¥å ï¼šmodule =&gt; package =&gt; class/interfaceã€‚</p><p>é‚£ä¹ˆJDKè¢«æ‹†ä¸ºäº†å“ªäº›æ¨¡å—å‘¢ï¼Ÿæ‰“å¼€ç»ˆç«¯æ‰§è¡Œ<code>java --list-modules</code>æŸ¥çœ‹ã€‚</p><pre><code>lixiaoshuang@localhost î‚° ~ java --list-modulesjava.base@11.0.2java.compiler@11.0.2java.datatransfer@11.0.2java.desktop@11.0.2java.instrument@11.0.2java.logging@11.0.2java.management@11.0.2java.management.rmi@11.0.2java.naming@11.0.2java.net.http@11.0.2java.prefs@11.0.2java.rmi@11.0.2java.scripting@11.0.2java.se@11.0.2java.security.jgss@11.0.2java.security.sasl@11.0.2java.smartcardio@11.0.2java.sql@11.0.2java.sql.rowset@11.0.2java.transaction.xa@11.0.2java.xml@11.0.2java.xml.crypto@11.0.2jdk.accessibility@11.0.2jdk.aot@11.0.2jdk.attach@11.0.2jdk.charsets@11.0.2jdk.compiler@11.0.2jdk.crypto.cryptoki@11.0.2jdk.crypto.ec@11.0.2jdk.dynalink@11.0.2jdk.editpad@11.0.2jdk.hotspot.agent@11.0.2jdk.httpserver@11.0.2jdk.internal.ed@11.0.2jdk.internal.jvmstat@11.0.2jdk.internal.le@11.0.2jdk.internal.opt@11.0.2jdk.internal.vm.ci@11.0.2jdk.internal.vm.compiler@11.0.2jdk.internal.vm.compiler.management@11.0.2jdk.jartool@11.0.2jdk.javadoc@11.0.2jdk.jcmd@11.0.2jdk.jconsole@11.0.2jdk.jdeps@11.0.2jdk.jdi@11.0.2jdk.jdwp.agent@11.0.2jdk.jfr@11.0.2jdk.jlink@11.0.2jdk.jshell@11.0.2jdk.jsobject@11.0.2jdk.jstatd@11.0.2jdk.localedata@11.0.2jdk.management@11.0.2jdk.management.agent@11.0.2jdk.management.jfr@11.0.2jdk.naming.dns@11.0.2jdk.naming.rmi@11.0.2jdk.net@11.0.2jdk.pack@11.0.2jdk.rmic@11.0.2jdk.scripting.nashorn@11.0.2jdk.scripting.nashorn.shell@11.0.2jdk.sctp@11.0.2jdk.security.auth@11.0.2jdk.security.jgss@11.0.2jdk.unsupported@11.0.2jdk.unsupported.desktop@11.0.2jdk.xml.dom@11.0.2jdk.zipfs@11.0.2</code></pre><h5 id="2-ä¸ºä»€ä¹ˆè¿™ä¹ˆåšï¼Ÿ"><a href="#2-ä¸ºä»€ä¹ˆè¿™ä¹ˆåšï¼Ÿ" class="headerlink" title="2.ä¸ºä»€ä¹ˆè¿™ä¹ˆåšï¼Ÿ"></a>2.ä¸ºä»€ä¹ˆè¿™ä¹ˆåšï¼Ÿ</h5><p>å¤§å®¶éƒ½çŸ¥é“JREä¸­æœ‰ä¸€ä¸ªè¶…çº§å¤§çš„rt.jar(60å¤šM)ï¼Œtools.jarä¹Ÿæœ‰å‡ åå…†ï¼Œä»¥å‰è¿è¡Œä¸€ä¸ªhello worldä¹Ÿéœ€è¦ä¸Šç™¾å…†çš„ç¯å¢ƒã€‚</p><ul><li>è®©Java SEç¨‹åºæ›´åŠ å®¹æ˜“è½»é‡çº§éƒ¨ç½²ã€‚</li><li>å¼ºå¤§çš„å°è£…èƒ½åŠ›ã€‚</li><li>æ”¹è¿›ç»„ä»¶é—´çš„ä¾èµ–ç®¡ç†ï¼Œå¼•å…¥æ¯”jarç²’åº¦æ›´å¤§çš„Moduleã€‚</li><li>æ”¹è¿›æ€§èƒ½å’Œå®‰å…¨æ€§ã€‚</li></ul><h5 id="3-æ€ä¹ˆå®šä¹‰æ¨¡å—"><a href="#3-æ€ä¹ˆå®šä¹‰æ¨¡å—" class="headerlink" title="3.æ€ä¹ˆå®šä¹‰æ¨¡å—?"></a>3.æ€ä¹ˆå®šä¹‰æ¨¡å—?</h5><p>æ¨¡å—çš„æ˜¯é€šè¿‡module-info.javaè¿›è¡Œå®šä¹‰ï¼Œç¼–è¯‘åæ‰“åŒ…åï¼Œå°±æˆä¸ºä¸€ä¸ªæ¨¡å—çš„å®ä½“ã€‚ä¸‹é¢æ¥çœ‹ä¸‹æœ€ç®€å•çš„æ¨¡å—å®šä¹‰ã€‚</p><p><img src="https://i.loli.net/2019/11/03/eaJ9cAKDjTWipo8.png" alt></p><p><img src="https://i.loli.net/2019/11/03/FKVhUwTfy4AraqP.png" alt></p><h5 id="4-æ¨¡å—çš„å…³é”®å­—"><a href="#4-æ¨¡å—çš„å…³é”®å­—" class="headerlink" title="4.æ¨¡å—çš„å…³é”®å­—"></a>4.æ¨¡å—çš„å…³é”®å­—</h5><ul><li><p>open</p><p>ç”¨æ¥æŒ‡å®šå¼€æ”¾æ¨¡å—,å¼€æ”¾æ¨¡å—çš„æ‰€æœ‰åŒ…éƒ½æ˜¯å…¬å¼€çš„,publicçš„å¯ä»¥ç›´æ¥å¼•ç”¨ä½¿ç”¨,å…¶ä»–ç±»å‹å¯ä»¥é€šè¿‡åå°„å¾—åˆ°ã€‚</p><pre><code>open module module.one {    //å¯¼å…¥æ—¥å¿—åŒ…   requires java.logging;}</code></pre></li><li><p>opens</p><p>opens ç”¨æ¥æŒ‡å®šå¼€æ”¾çš„åŒ…,å…¶ä¸­publicç±»å‹æ˜¯å¯ä»¥ç›´æ¥è®¿é—®çš„,å…¶ä»–ç±»å‹å¯ä»¥é€šè¿‡åå°„å¾—åˆ°ã€‚</p><pre><code>module module.one {    opens &lt;package&gt;;}</code></pre></li><li><p>exports</p><p>exportsç”¨äºæŒ‡å®šæ¨¡å—ä¸‹çš„å“ªäº›åŒ…å¯ä»¥è¢«å…¶ä»–æ¨¡å—è®¿é—®ã€‚</p><pre><code>module module.one {    exports &lt;package&gt;;    exports &lt;package&gt; to &lt;module1&gt;, &lt;module2&gt;...;}</code></pre></li><li><p>requires</p><p>è¯¥å…³é”®å­—å£°æ˜å½“å‰æ¨¡å—ä¸å¦ä¸€ä¸ªæ¨¡å—çš„ä¾èµ–å…³ç³»ã€‚</p><pre><code>module module.one {    requires &lt;package&gt;;}</code></pre></li><li><p>usesã€providesâ€¦withâ€¦</p><p>usesè¯­å¥ä½¿ç”¨æœåŠ¡æ¥å£çš„åå­—,å½“å‰æ¨¡å—å°±ä¼šå‘ç°å®ƒ,ä½¿ç”¨java.util.ServiceLoaderç±»è¿›è¡ŒåŠ è½½,å¿…é¡»æ˜¯æœ¬æ¨¡å—ä¸­çš„,ä¸èƒ½æ˜¯å…¶ä»–æ¨¡å—ä¸­çš„.å…¶å®ç°ç±»å¯ä»¥ç”±å…¶ä»–æ¨¡å—æä¾›ã€‚</p><pre><code>module module.one {    //å¯¹å¤–æä¾›çš„æ¥å£æœåŠ¡ ,ä¸‹é¢æŒ‡å®šçš„æ¥å£ä»¥åŠæä¾›æœåŠ¡çš„implï¼Œå¦‚æœæœ‰å¤šä¸ªå®ç°ç±»ï¼Œç”¨ç”¨é€—å·éš”å¼€    uses &lt;æ¥å£å&gt;;    provides &lt;æ¥å£å&gt; with &lt;æ¥å£å®ç°ç±»&gt;,&lt;æ¥å£å®ç°ç±»&gt;;}</code></pre></li></ul><h4 id="varå…³é”®å­—-since-10"><a href="#varå…³é”®å­—-since-10" class="headerlink" title="varå…³é”®å­—   @since 10"></a>varå…³é”®å­—   @since 10</h4><h5 id="1-varæ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#1-varæ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="1.varæ˜¯ä»€ä¹ˆï¼Ÿ"></a>1.varæ˜¯ä»€ä¹ˆï¼Ÿ</h5><p>varæ˜¯Java10ä¸­æ–°å¢çš„å±€éƒ¨ç±»å‹å˜é‡æ¨æ–­ã€‚å®ƒä¼šæ ¹æ®åé¢çš„å€¼æ¥æ¨æ–­å˜é‡çš„ç±»å‹ï¼Œæ‰€ä»¥varå¿…é¡»è¦åˆå§‹åŒ–ã€‚</p><p>ä¾‹ï¼š</p><pre><code>var a;       âŒvar a = 1;   âœ…</code></pre><h5 id="2-varä½¿ç”¨ç¤ºä¾‹"><a href="#2-varä½¿ç”¨ç¤ºä¾‹" class="headerlink" title="2.varä½¿ç”¨ç¤ºä¾‹"></a>2.varä½¿ç”¨ç¤ºä¾‹</h5><ul><li><p>varå®šä¹‰å±€éƒ¨å˜é‡</p><pre><code>var a = 1; ç­‰äºint a = 1;</code></pre></li><li><p>varæ¥æ”¶æ–¹æ³•è¿”å›æ—¶</p><pre><code>var result = this.getResult();ç­‰äºString result = this.getResult();</code></pre></li><li><p>varå¾ªç¯ä¸­å®šä¹‰å±€éƒ¨å˜é‡</p><pre><code>for (var i = 0; i &lt; 5; i++) {   System.out.println(i);}ç­‰äºfor (int i = 0; i &lt; 5; i++) {   System.out.println(i);}</code></pre></li><li><p>varç»“åˆæ³›å‹</p><pre><code>var list1 = new ArrayList&lt;String&gt;();  //åœ¨&lt;&gt;ä¸­æŒ‡å®šäº†listç±»å‹ä¸ºStringç­‰äºList&lt;String&gt; list1 = new ArrayList&lt;&gt;();var list2 = new ArrayList&lt;&gt;();        //&lt;&gt;é‡Œé»˜è®¤ä¼šæ˜¯Object</code></pre></li><li><p>varåœ¨Lambdaä¸­ä½¿ç”¨ï¼ˆjava11æ‰å¯ä»¥ä½¿ç”¨ï¼‰</p><pre><code>Consumer&lt;String&gt; Consumer = (var i) -&gt; System.out.println(i);ç­‰äºConsumer&lt;String&gt; Consumer = (String i) -&gt; System.out.println(i);</code></pre></li></ul><h5 id="3-varä¸èƒ½å†å“ªé‡Œä½¿ç”¨ï¼Ÿ"><a href="#3-varä¸èƒ½å†å“ªé‡Œä½¿ç”¨ï¼Ÿ" class="headerlink" title="3.varä¸èƒ½å†å“ªé‡Œä½¿ç”¨ï¼Ÿ"></a>3.varä¸èƒ½å†å“ªé‡Œä½¿ç”¨ï¼Ÿ</h5><ul><li>ç±»æˆå‘˜å˜é‡ç±»å‹ã€‚</li><li>æ–¹æ³•è¿”å›å€¼ç±»å‹ã€‚</li><li>Java10ä¸­Lambdaä¸èƒ½ä½¿ç”¨varï¼ŒJava11ä¸­å¯ä»¥ä½¿ç”¨ã€‚</li></ul><h4 id="å¢å¼ºapi"><a href="#å¢å¼ºapi" class="headerlink" title="å¢å¼ºapi"></a>å¢å¼ºapi</h4><h5 id="1-å­—ç¬¦ä¸²å¢å¼º-since-11"><a href="#1-å­—ç¬¦ä¸²å¢å¼º-since-11" class="headerlink" title="1.å­—ç¬¦ä¸²å¢å¼º @since 11"></a>1.å­—ç¬¦ä¸²å¢å¼º @since 11</h5><pre><code>// åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦ä¸ºç©ºç™½&quot; &quot;.isBlank();                     // true// å»é™¤é¦–å°¾ç©ºæ ¼&quot; Hello Java11 &quot;.strip();          // &quot;Hello Java11&quot;// å»é™¤å°¾éƒ¨ç©ºæ ¼ &quot; Hello Java11 &quot;.stripTrailing();  // &quot; Hello Java11&quot;// å»é™¤é¦–éƒ¨ç©ºæ ¼ &quot; Hello Java11 &quot;.stripLeading();   // &quot;Hello Java11 &quot;// å¤åˆ¶å­—ç¬¦ä¸²&quot;Java11&quot;.repeat(3);                // &quot;Java11Java11Java11&quot;// è¡Œæ•°ç»Ÿè®¡&quot;A\nB\nC&quot;.lines().count();         // 3</code></pre><h5 id="2-é›†åˆå¢å¼º"><a href="#2-é›†åˆå¢å¼º" class="headerlink" title="2.é›†åˆå¢å¼º"></a>2.é›†åˆå¢å¼º</h5><p>ä»Java 9 å¼€å§‹ï¼Œjdké‡Œé¢å°±ä¸ºé›†åˆï¼ˆListã€Setã€Mapï¼‰å¢åŠ äº†ofå’ŒcopyOfæ–¹æ³•ã€‚å®ƒä»¬ç”¨æ¥åˆ›å»ºä¸å¯å˜é›†åˆã€‚</p><ul><li>of()  @since 9</li><li>copyOf()  @since 10</li></ul><p>ç¤ºä¾‹ä¸€ï¼š</p><pre><code>        var list = List.of(&quot;Java&quot;, &quot;Python&quot;, &quot;C&quot;); //ä¸å¯å˜é›†åˆ        var copy = List.copyOf(list);         //copyOfåˆ¤æ–­æ˜¯å¦æ˜¯ä¸å¯å˜é›†åˆç±»å‹ï¼Œå¦‚æœæ˜¯ç›´æ¥è¿”å›        System.out.println(list == copy);    // true        var list = new ArrayList&lt;String&gt;();  // è¿™é‡Œè¿”å›æ­£å¸¸çš„é›†åˆ        var copy = List.copyOf(list);        // è¿™é‡Œè¿”å›ä¸€ä¸ªä¸å¯å˜é›†åˆ        System.out.println(list == copy);    // false</code></pre><p>ç¤ºä¾‹äºŒï¼š</p><pre><code>        var set = Set.of(&quot;Java&quot;, &quot;Python&quot;, &quot;C&quot;);        var copy = Set.copyOf(set);        System.out.println(set == copy);     // true        var set1 = new HashSet&lt;String&gt;();        var copy1 = List.copyOf(set1);        System.out.println(set1 == copy1);   // false</code></pre><p>ç¤ºä¾‹ä¸‰ï¼š</p><pre><code>        var map = Map.of(&quot;Java&quot;, 1, &quot;Python&quot;, 2, &quot;C&quot;, 3);        var copy = Map.copyOf(map);        System.out.println(map == copy);     // true        var map1 = new HashMap&lt;String, Integer&gt;();        var copy1 = Map.copyOf(map1);        System.out.println(map1 == copy1);   // false</code></pre><p><code>æ³¨æ„ï¼šä½¿ç”¨ of å’Œ copyOf åˆ›å»ºçš„é›†åˆä¸ºä¸å¯å˜é›†åˆï¼Œä¸èƒ½è¿›è¡Œæ·»åŠ ã€åˆ é™¤ã€æ›¿æ¢ã€æ’åºç­‰æ“ä½œï¼Œä¸ç„¶ä¼šæŠ¥java.lang.UnsupportedOperationExceptionå¼‚å¸¸ï¼Œä½¿ç”¨Set.of()ä¸èƒ½å‡ºç°é‡å¤å…ƒç´ ã€Map.of()ä¸èƒ½å‡ºç°é‡å¤keyï¼Œå¦åˆ™å›æŠ¥java.lang.IllegalArgumentExceptionã€‚</code>ã€‚</p><h5 id="3-Streamå¢å¼º-since-9"><a href="#3-Streamå¢å¼º-since-9" class="headerlink" title="3.Streamå¢å¼º @since 9"></a>3.Streamå¢å¼º @since 9</h5><p>Streamæ˜¯Java 8 ä¸­çš„ç‰¹æ€§ï¼Œåœ¨Java 9 ä¸­ä¸ºå…¶æ–°å¢äº†4ä¸ªæ–¹æ³•ï¼š</p><ul><li><p>ofNullable(T t)</p><p>æ­¤æ–¹æ³•å¯ä»¥æ¥æ”¶nullæ¥åˆ›å»ºä¸€ä¸ªç©ºæµ</p><pre><code>ä»¥å‰Stream.of(null);  //æŠ¥é”™ç°åœ¨Stream.ofNullable(null);</code></pre></li><li><p>takeWhile(Predicate&lt;? super T&gt; predicate) </p><p>æ­¤æ–¹æ³•æ ¹æ®Predicateæ¥å£æ¥åˆ¤æ–­å¦‚æœä¸ºtrueå°± <code>å–å‡º</code> æ¥ç”Ÿæˆä¸€ä¸ªæ–°çš„æµ,åªè¦ç¢°åˆ°falseå°±ç»ˆæ­¢ï¼Œä¸ç®¡åè¾¹çš„å…ƒç´ æ˜¯å¦ç¬¦åˆæ¡ä»¶ã€‚</p><pre><code>        Stream&lt;Integer&gt; integerStream = Stream.of(6, 10, 11, 15, 20);        Stream&lt;Integer&gt; takeWhile = integerStream.takeWhile(t -&gt; t % 2 == 0);        takeWhile.forEach(System.out::println);   // 6,10</code></pre></li><li><p>dropWhile(Predicate&lt;? super T&gt; predicate)</p><p>æ­¤æ–¹æ³•æ ¹æ®Predicateæ¥å£æ¥åˆ¤æ–­å¦‚æœä¸ºtrueå°± <code>ä¸¢å¼ƒ</code> æ¥ç”Ÿæˆä¸€ä¸ªæ–°çš„æµ,åªè¦ç¢°åˆ°falseå°±ç»ˆæ­¢ï¼Œä¸ç®¡åè¾¹çš„å…ƒç´ æ˜¯å¦ç¬¦åˆæ¡ä»¶ã€‚</p><pre><code>        Stream&lt;Integer&gt; integerStream = Stream.of(6, 10, 11, 15, 20);        Stream&lt;Integer&gt; takeWhile = integerStream.dropWhile(t -&gt; t % 2 == 0);        takeWhile.forEach(System.out::println);  //11,15,20</code></pre></li><li><p>iterateé‡è½½</p><p>ä»¥å‰ä½¿ç”¨iterateæ–¹æ³•ç”Ÿæˆæ— é™æµéœ€è¦é…åˆlimitè¿›è¡Œæˆªæ–­</p><pre><code>        Stream&lt;Integer&gt; limit = Stream.iterate(1, i -&gt; i + 1).limit(5);        limit.forEach(System.out::println);   //1,2,3,4,5</code></pre><p>ç°åœ¨é‡è½½åè¿™ä¸ªæ–¹æ³•å¢åŠ äº†ä¸ªåˆ¤æ–­å‚æ•°</p><pre><code>        Stream&lt;Integer&gt; iterate = Stream.iterate(1, i -&gt; i &lt;= 5, i -&gt; i + 1);        iterate.forEach(System.out::println);  //1,2,3,4,5</code></pre></li></ul><h5 id="4-Optionalå¢å¼º-since-9"><a href="#4-Optionalå¢å¼º-since-9" class="headerlink" title="4.Optionalå¢å¼º  @since 9"></a>4.Optionalå¢å¼º  @since 9</h5><ul><li><p>stream()</p><p>å¦‚æœä¸ºç©ºè¿”å›ä¸€ä¸ªç©ºæµï¼Œå¦‚æœä¸ä¸ºç©ºå°†Optionalçš„å€¼è½¬æˆä¸€ä¸ªæµã€‚</p><pre><code>        //è¿”å›Optionalå€¼çš„æµ        Stream&lt;String&gt; stream = Optional.of(&quot;Java 11&quot;).stream();        stream.forEach(System.out::println);    // Java 11        //è¿”å›ç©ºæµ        Stream&lt;Object&gt; stream = Optional.ofNullable(null).stream();        stream.forEach(System.out::println);    // </code></pre></li></ul><ul><li><p>ifPresentOrElse(Consumer&lt;? super T&gt; action, Runnable emptyAction)</p><p>ä¸ªäººæ„Ÿè§‰è¿™ä¸ªæ–¹æ³•å°±æ˜¯ç»“åˆisPresent()å¯¹Elseçš„å¢å¼ºï¼ŒifPresentOrElse æ–¹æ³•çš„ç”¨é€”æ˜¯ï¼Œå¦‚æœä¸€ä¸ª Optional åŒ…å«å€¼ï¼Œåˆ™å¯¹å…¶åŒ…å«çš„å€¼è°ƒç”¨å‡½æ•° actionï¼Œå³ action.accept(value)ï¼Œè¿™ä¸ ifPresent ä¸€è‡´ï¼›ä¸ ifPresent æ–¹æ³•çš„åŒºåˆ«åœ¨äºï¼ŒifPresentOrElse è¿˜æœ‰ç¬¬äºŒä¸ªå‚æ•° emptyAction â€”â€” å¦‚æœ Optional ä¸åŒ…å«å€¼ï¼Œé‚£ä¹ˆ ifPresentOrElse ä¾¿ä¼šè°ƒç”¨ emptyActionï¼Œå³ emptyAction.run()ã€‚</p><pre><code>        Optional&lt;Integer&gt; optional = Optional.of(1);        optional.ifPresentOrElse( x -&gt; System.out.println(&quot;Value: &quot; + x),() -&gt;                System.out.println(&quot;Not Present.&quot;));    //Value: 1        optional = Optional.empty();        optional.ifPresentOrElse( x -&gt; System.out.println(&quot;Value: &quot; + x),() -&gt;                System.out.println(&quot;Not Present.&quot;));    //Not Present.</code></pre></li><li><p>or(Supplier&lt;? extends Optional&lt;? extends T&gt;&gt; supplier)</p><pre><code>       Optional&lt;String&gt; optional1 = Optional.of(&quot;Java&quot;);       Supplier&lt;Optional&lt;String&gt;&gt; supplierString = () -&gt; Optional.of(&quot;Not Present&quot;);       optional1 = optional1.or( supplierString);       optional1.ifPresent( x -&gt; System.out.println(&quot;Value: &quot; + x));  //Value: Java       optional1 = Optional.empty();       optional1 = optional1.or( supplierString);       optional1.ifPresent( x -&gt; System.out.println(&quot;Value: &quot; + x)); //Value: Not Present</code></pre></li></ul><h5 id="5-InputStreamå¢å¼º-since-9"><a href="#5-InputStreamå¢å¼º-since-9" class="headerlink" title="5.InputStreamå¢å¼º  @since 9"></a>5.InputStreamå¢å¼º  @since 9</h5><pre><code>        String lxs = &quot;java&quot;;        try (var inputStream = new ByteArrayInputStream(lxs.getBytes());             var outputStream = new ByteArrayOutputStream()) {            inputStream.transferTo(outputStream);            System.out.println(outputStream);    //java        }</code></pre><h4 id="HTTP-Client-API"><a href="#HTTP-Client-API" class="headerlink" title="HTTP Client API"></a>HTTP Client API</h4><p>æ”¹apiæ”¯æŒåŒæ­¥å’Œå¼‚æ­¥ä¸¤ç§æ–¹å¼ï¼Œä¸‹é¢æ˜¯ä¸¤ç§æ–¹å¼çš„ç¤ºä¾‹ï¼š</p><pre><code>        var request = HttpRequest.newBuilder()                .uri(URI.create(&quot;https://www.baidu.com/&quot;))                .build();        var client = HttpClient.newHttpClient();        // åŒæ­¥        HttpResponse&lt;String&gt; response = client.send(request, HttpResponse.BodyHandlers.ofString());        System.out.println(response.body());        // å¼‚æ­¥        CompletableFuture&lt;HttpResponse&lt;String&gt;&gt; sendAsync = client.sendAsync(request, HttpResponse.BodyHandlers.ofString());        //è¿™é‡Œä¼šé˜»å¡        HttpResponse&lt;String&gt; response1 = sendAsync.get();        System.out.println(response1.body());</code></pre><h4 id="ç›´æ¥è¿è¡Œjavaæ–‡ä»¶"><a href="#ç›´æ¥è¿è¡Œjavaæ–‡ä»¶" class="headerlink" title="ç›´æ¥è¿è¡Œjavaæ–‡ä»¶"></a>ç›´æ¥è¿è¡Œjavaæ–‡ä»¶</h4><p>æˆ‘ä»¬éƒ½çŸ¥é“ä»¥å‰è¦è¿è¡Œä¸€ä¸ª.javaæ–‡ä»¶ï¼Œé¦–å…ˆè¦javacç¼–è¯‘æˆ.classæ–‡ä»¶ï¼Œç„¶ååœ¨javaæ‰§è¡Œï¼š</p><pre><code>//ç¼–è¯‘javac Java11.java//è¿è¡Œjava Java11</code></pre><p>åœ¨java11ä¸­ï¼Œåªéœ€è¦é€šè¿‡javaä¸€ä¸ªå‘½ä»¤å°±å¯ä»¥æå®š</p><pre><code>java Java11.java</code></pre><h3 id="ç§»é™¤å†…å®¹"><a href="#ç§»é™¤å†…å®¹" class="headerlink" title="ç§»é™¤å†…å®¹"></a>ç§»é™¤å†…å®¹</h3><ul><li>com.sun.awt.AWTUtilitiesã€‚</li><li>sun.misc.Unsafe.defineClass   ä½¿ç”¨java.lang.invoke.MethodHandles.Lookup.defineClassæ¥æ›¿ä»£ã€‚</li><li>Thread.destroy() ä»¥åŠ Thread.stop(Throwable) æ–¹æ³•ã€‚</li><li>sun.nio.ch.disableSystemWideOverlappingFileLockCheck å±æ€§ã€‚</li><li>sun.locale.formatasdefault å±æ€§ã€‚</li><li>jdk snmp æ¨¡å—ã€‚</li><li>javafxï¼Œopenjdk æ˜¯ä»java10ç‰ˆæœ¬å°±ç§»é™¤äº†ï¼Œoracle java10è¿˜å°šæœªç§»é™¤javafx ï¼Œè€Œjava11ç‰ˆæœ¬å°†javafxä¹Ÿç§»é™¤äº†ã€‚</li><li>Java Mission Controlï¼Œä»JDKä¸­ç§»é™¤ä¹‹åï¼Œéœ€è¦è‡ªå·±å•ç‹¬ä¸‹è½½ã€‚</li><li>Root Certificates ï¼šBaltimore Cybertrust Code Signing CAï¼ŒSECOM ï¼ŒAOL and Swisscomã€‚</li><li>åœ¨java11ä¸­å°†java9æ ‡è®°åºŸå¼ƒçš„Java EEåŠCORBAæ¨¡å—ç§»é™¤æ‰ã€‚</li></ul><h3 id="å®Œå…¨æ”¯æŒLinuxå®¹å™¨ï¼ˆåŒ…æ‹¬dockerï¼‰"><a href="#å®Œå…¨æ”¯æŒLinuxå®¹å™¨ï¼ˆåŒ…æ‹¬dockerï¼‰" class="headerlink" title="å®Œå…¨æ”¯æŒLinuxå®¹å™¨ï¼ˆåŒ…æ‹¬dockerï¼‰"></a>å®Œå…¨æ”¯æŒLinuxå®¹å™¨ï¼ˆåŒ…æ‹¬dockerï¼‰</h3><p>è®¸å¤šè¿è¡Œåœ¨Javaè™šæ‹Ÿæœºä¸­çš„åº”ç”¨ç¨‹åºï¼ˆåŒ…æ‹¬Apache Sparkå’ŒKafkaç­‰æ•°æ®æœåŠ¡ä»¥åŠä¼ ç»Ÿçš„ä¼ä¸šåº”ç”¨ç¨‹åºï¼‰éƒ½å¯ä»¥åœ¨Dockerå®¹å™¨ä¸­è¿è¡Œã€‚ä½†æ˜¯åœ¨Dockerå®¹å™¨ä¸­è¿è¡ŒJavaåº”ç”¨ç¨‹åºä¸€ç›´å­˜åœ¨ä¸€ä¸ªé—®é¢˜ï¼Œé‚£å°±æ˜¯åœ¨å®¹å™¨ä¸­è¿è¡ŒJVMç¨‹åºåœ¨è®¾ç½®å†…å­˜å¤§å°å’ŒCPUä½¿ç”¨ç‡åï¼Œä¼šå¯¼è‡´åº”ç”¨ç¨‹åºçš„æ€§èƒ½ä¸‹é™ã€‚è¿™æ˜¯å› ä¸ºJavaåº”ç”¨ç¨‹åºæ²¡æœ‰æ„è¯†åˆ°å®ƒæ­£åœ¨å®¹å™¨ä¸­è¿è¡Œã€‚éšç€Java 10çš„å‘å¸ƒï¼Œè¿™ä¸ªé—®é¢˜æ€»ç®—å¾—ä»¥è§£å†³ï¼ŒJVMç°åœ¨å¯ä»¥è¯†åˆ«ç”±å®¹å™¨æ§åˆ¶ç»„ï¼ˆcgroupsï¼‰è®¾ç½®çš„çº¦æŸã€‚å¯ä»¥åœ¨å®¹å™¨ä¸­ä½¿ç”¨å†…å­˜å’ŒCPUçº¦æŸæ¥ç›´æ¥ç®¡ç†Javaåº”ç”¨ç¨‹åºï¼Œå…¶ä¸­åŒ…æ‹¬ï¼š</p><ul><li>éµå®ˆå®¹å™¨ä¸­è®¾ç½®çš„å†…å­˜é™åˆ¶</li><li>åœ¨å®¹å™¨ä¸­è®¾ç½®å¯ç”¨çš„CPU</li><li>åœ¨å®¹å™¨ä¸­è®¾ç½®CPUçº¦æŸ</li></ul><p><code>Java 10çš„è¿™ä¸ªæ”¹è¿›åœ¨Docker for Macã€Docker for Windowsä»¥åŠDocker Enterprise Editionç­‰ç¯å¢ƒå‡æœ‰æ•ˆã€‚</code></p><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p> <img src="https://i.loli.net/2019/11/05/uesYIQnMUgOdJpN.png" alt="Javaç‰ˆæœ¬ç‰¹æ€§.png"></p><blockquote><p>æ„Ÿè°¢å¤§å®¶çš„è§‚çœ‹ï¼Œå¸Œæœ›å¤šå¤šå…³æ³¨å“¦ã€‚ å¦‚æœ‰é”™è¯¯ï¼Œçƒ¦è¯·æŒ‡æ­£ã€‚</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java11 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€ŒJava8ç³»åˆ—ã€æµå¼ç¼–ç¨‹Stream</title>
      <link href="/2019/11/04/java8-xi-lie-liu-shi-bian-cheng-stream/"/>
      <url>/2019/11/04/java8-xi-lie-liu-shi-bian-cheng-stream/</url>
      
        <content type="html"><![CDATA[<h4 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h4><p><a href="https://juejin.im/post/5d2d15825188253d7201d297" target="_blank" rel="noopener">ã€ŒJava8ç³»åˆ—ã€ç¥ç§˜çš„Lambda</a><br><br><a href="https://juejin.im/post/5d2ff837f265da1bd424b710" target="_blank" rel="noopener">ã€ŒJava8ç³»åˆ—ã€ç¥å¥‡çš„å‡½æ•°å¼æ¥å£</a><br><br>ç»§ä¸Šä¸¤ç¯‡ä¹‹åï¼Œæœ¬æ–‡å·²ç»java8ç³»åˆ—çš„ç¬¬ä¸‰ç¯‡äº†ã€‚æœ¬ç¯‡æ–‡ç« æ¯”è¾ƒé•¿ï¼Œä½†æˆ‘å¸Œæœ›å¤§å®¶éƒ½èƒ½è®¤çœŸè¯»å®Œã€‚è¯»ä¸å®Œå¯ä»¥å…ˆæ”¶è—ï¼Œåœ¨æ‰¾æ—¶é—´è¯»ã€‚æ²¡çœ‹è¿‡å‰ä¸¤ç¯‡çš„å¯ä»¥ç‚¹ä¸Šè¾¹çš„é“¾æ¥çœ‹çœ‹ï¼Œå‰ä¸¤ç¯‡æ–‡ç« ç®—æ˜¯å¯¹æ˜¯ç”¨Streamé“ºå«çš„ä¸€ç‚¹åŸºç¡€å§ï¼Œä¸è¿‡ä¸çœ‹ä¹Ÿå¯ä»¥å­¦ä¼šä½¿ç”¨Streamï¼Œä½†çœ‹äº†ä¼šæœ‰åŠ©äºæ›´å¥½çš„ç†è§£å’Œä½¿ç”¨ã€‚åœ¨æ²¡æœ‰æ·±å…¥äº†è§£ä¹‹å‰ï¼Œæˆ‘ä»¥ä¸ºStreamä¹Ÿæ˜¯æ•°æ®çš„è½½ä½“ï¼Œä½†åæ¥å‘ç°å¹¶ä¸æ˜¯ã€‚é‚£ä¹ˆå®ƒåˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿå¬æˆ‘æ…¢æ…¢é“æ¥ã€‚</p><h4 id="ä»€ä¹ˆæ˜¯Streamï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯Streamï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯Streamï¼Ÿ"></a>ä»€ä¹ˆæ˜¯Streamï¼Ÿ</h4><p>Streamå®ƒå¹¶ä¸æ˜¯ä¸€ä¸ªå®¹å™¨ï¼Œå®ƒåªæ˜¯å¯¹å®¹å™¨çš„åŠŸèƒ½è¿›è¡Œäº†å¢å¼ºï¼Œæ·»åŠ äº†å¾ˆå¤šä¾¿åˆ©çš„æ“ä½œ,ä¾‹å¦‚æŸ¥æ‰¾ã€è¿‡æ»¤ã€åˆ†ç»„ã€æ’åºç­‰ä¸€ç³»åˆ—çš„æ“ä½œã€‚å¹¶ä¸”æœ‰ä¸²è¡Œã€å¹¶è¡Œä¸¤ç§æ‰§è¡Œæ¨¡å¼ï¼Œå¹¶è¡Œæ¨¡å¼å……åˆ†çš„åˆ©ç”¨äº†å¤šæ ¸å¤„ç†å™¨çš„ä¼˜åŠ¿ï¼Œä½¿ç”¨fork/joinæ¡†æ¶è¿›è¡Œäº†ä»»åŠ¡æ‹†åˆ†ï¼ŒåŒæ—¶æé«˜äº†æ‰§è¡Œé€Ÿåº¦ã€‚ç®€è€Œè¨€ä¹‹ï¼ŒStreamå°±æ˜¯æä¾›äº†ä¸€ç§é«˜æ•ˆä¸”æ˜“äºä½¿ç”¨çš„å¤„ç†æ•°æ®çš„æ–¹å¼ã€‚</p><ul><li>ç‰¹ç‚¹ï¼š</li></ul><ol><li>Streamè‡ªå·±ä¸ä¼šå­˜å‚¨å…ƒç´ ã€‚ </li><li>Streamçš„æ“ä½œä¸ä¼šæ”¹å˜æºå¯¹è±¡ã€‚ç›¸åï¼Œä»–ä»¬ä¼šè¿”å›ä¸€ä¸ªæŒæœ‰ç»“æœçš„æ–°Streamã€‚</li><li>Stream æ“ä½œæ˜¯å»¶è¿Ÿæ‰§è¡Œçš„ã€‚å®ƒä¼šç­‰åˆ°éœ€è¦ç»“æœçš„æ—¶å€™æ‰æ‰§è¡Œã€‚ä¹Ÿå°±æ˜¯æ‰§è¡Œç»ˆç«¯æ“ä½œçš„æ—¶å€™ã€‚</li></ol><ul><li>å›¾è§£ï¼š<br><img src="https://user-gold-cdn.xitu.io/2019/7/22/16c198ac61885693?w=1090&h=436&f=png&s=38873" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>ä¸€ä¸ªStreamçš„æ“ä½œå°±å¦‚ä¸Šå›¾ï¼Œåœ¨ä¸€ä¸ªç®¡é“å†…ï¼Œåˆ†ä¸ºä¸‰ä¸ªæ­¥éª¤ï¼Œç¬¬ä¸€æ­¥æ˜¯åˆ›å»ºStreamï¼Œä»é›†åˆã€æ•°ç»„ä¸­è·å–ä¸€ä¸ªæµï¼Œç¬¬äºŒæ­¥æ˜¯ä¸­é—´æ“ä½œé“¾ï¼Œå¯¹æ•°æ®è¿›è¡Œå¤„ç†ã€‚ç¬¬ä¸‰æ­¥æ˜¯ç»ˆç«¯æ“ä½œï¼Œç”¨æ¥æ‰§è¡Œä¸­é—´æ“ä½œé“¾ï¼Œè¿”å›ç»“æœã€‚<h4 id="æ€ä¹ˆåˆ›å»ºStream"><a href="#æ€ä¹ˆåˆ›å»ºStream" class="headerlink" title="æ€ä¹ˆåˆ›å»ºStream?"></a>æ€ä¹ˆåˆ›å»ºStream?</h4></li><li>ç”±é›†åˆåˆ›å»ºï¼š<br>Java8 ä¸­çš„ Collection æ¥å£è¢«æ‰©å±•ï¼Œæä¾›äº†ä¸¤ä¸ªè·å–æµçš„æ–¹æ³•,è¿™ä¸¤ä¸ªæ–¹æ³•æ˜¯defaultæ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯è¯´æ‰€æœ‰å®ç°Collectionæ¥å£çš„æ¥å£éƒ½ä¸éœ€è¦å®ç°å°±å¯ä»¥ç›´æ¥ä½¿ç”¨ï¼š</li></ul><ol><li>default Stream<e> stream() : è¿”å›ä¸€ä¸ªé¡ºåºæµã€‚</e></li><li>default Stream<e> parallelStream() : è¿”å›ä¸€ä¸ªå¹¶è¡Œæµã€‚<br><pre><code> ä¾‹å¦‚ï¼š     List&lt;Integer&gt; integerList = new ArrayList&lt;&gt;();     integerList.add(1);     integerList.add(2);     Stream&lt;Integer&gt; stream = integerList.stream();     Stream&lt;Integer&gt; stream1 = integerList.parallelStream();</code></pre></e></li></ol><ul><li>ç”±æ•°ç»„åˆ›å»ºï¼š<br>Java8 ä¸­çš„ Arrays çš„é™æ€æ–¹æ³• stream() å¯ä»¥è·å–æ•°ç»„æµ:</li></ul><ol><li>static <t> Stream<t> stream(T[] array): è¿”å›ä¸€ä¸ªæµ</t></t></li><li>é‡è½½å½¢å¼ï¼Œèƒ½å¤Ÿå¤„ç†å¯¹åº”åŸºæœ¬ç±»å‹çš„æ•°ç»„:<br><br>public static IntStream stream(int[] array)<br><br>public static LongStream stream(long[] array)<br><br>public static DoubleStream stream(double[] array)<br><pre><code> ä¾‹å¦‚ï¼š     int[] intArray = {1,2,3};     IntStream stream = Arrays.stream(intArray);</code></pre></li></ol><ul><li>ç”±å€¼åˆ›å»º:<br>å¯ä»¥ä½¿ç”¨é™æ€æ–¹æ³• Stream.of(), é€šè¿‡æ˜¾ç¤ºå€¼ åˆ›å»ºä¸€ä¸ªæµã€‚å®ƒå¯ä»¥æ¥æ”¶ä»»æ„æ•°é‡çš„å‚æ•°ã€‚</li></ul><ol><li>public static<t> Stream<t> of(Tâ€¦ values) : è¿”å›ä¸€ä¸ªæµã€‚<br><pre><code> ä¾‹å¦‚ï¼š Stream&lt;Integer&gt; integerStream = Stream.of(1, 2, 3, 4, 5, 6, 7, 8);</code></pre></t></t></li></ol><ul><li>ç”±å‡½æ•°åˆ›å»ºï¼šåˆ›å»ºæ— é™æµ<br>å¯ä»¥ä½¿ç”¨é™æ€æ–¹æ³• Stream.iterate() å’Œ Stream.generate()åˆ›å»ºæ— é™æµã€‚</li></ul><ol><li>è¿­ä»£<br>public static<t> Stream<t> iterate(final T seed, final UnaryOperator<t> f)</t></t></t></li><li>ç”Ÿæˆ<br>public static<t> Stream<t> generate(Supplier<t> s) <pre><code> ä¾‹å¦‚ï¼š Stream.generate(Math::random).limit(5).forEach(System.out::print);  List&lt;Integer&gt; collect = Stream.iterate(0,i -&gt; i + 1).limit(5).collect(Collectors.toList());</code></pre><code>æ³¨æ„ï¼šä½¿ç”¨æ— é™æµä¸€å®šè¦é…åˆlimitæˆªæ–­ï¼Œä¸ç„¶ä¼šæ— é™åˆ¶åˆ›å»ºä¸‹å»ã€‚</code><h4 id="Streamçš„ä¸­é—´æ“ä½œ"><a href="#Streamçš„ä¸­é—´æ“ä½œ" class="headerlink" title="Streamçš„ä¸­é—´æ“ä½œ"></a>Streamçš„ä¸­é—´æ“ä½œ</h4>å¦‚æœStreamåªæœ‰ä¸­é—´æ“ä½œæ˜¯ä¸ä¼šæ‰§è¡Œçš„ï¼Œå½“æ‰§è¡Œç»ˆç«¯æ“ä½œçš„æ—¶å€™æ‰ä¼šæ‰§è¡Œä¸­é—´æ“ä½œï¼Œè¿™ç§æ–¹å¼ç§°ä¸ºå»¶è¿ŸåŠ è½½æˆ–æƒ°æ€§æ±‚å€¼ã€‚å¤šä¸ªä¸­é—´æ“ä½œç»„æˆä¸€ä¸ªä¸­é—´æ“ä½œé“¾ï¼Œåªæœ‰å½“æ‰§è¡Œç»ˆç«¯æ“ä½œçš„æ—¶å€™æ‰ä¼šæ‰§è¡Œä¸€éä¸­é—´æ“ä½œé“¾ï¼Œå…·ä½“æ˜¯å› ä¸ºä»€ä¹ˆæˆ‘ä»¬åœ¨åé¢å†è¯´æ˜ã€‚ä¸‹é¢çœ‹ä¸‹Streamæœ‰å“ªäº›ä¸­é—´æ“ä½œã€‚</t></t></t></li></ol><ul><li>Stream<code>&lt;T&gt;</code> distinct()ï¼š<br>å»é‡ï¼Œé€šè¿‡æµæ‰€ç”Ÿæˆå…ƒç´ çš„ hashCode() å’Œ equals() å»é™¤é‡å¤å…ƒç´ ã€‚<br><img src="https://user-gold-cdn.xitu.io/2019/7/22/16c1a26c389e630e?w=403&h=205&f=jpeg&s=30693" alt><br><img src="https://user-gold-cdn.xitu.io/2019/7/23/16c1ce3dc266d996?w=1464&h=1346&f=png&s=269768" alt></li><li>Stream<code>&lt;T&gt;</code> filter(Predicate&lt;? super T&gt; predicate):<br>Predicateå‡½æ•°åœ¨ä¸Šä¸€ç¯‡å½“ä¸­æˆ‘ä»¬å·²ç»è®²è¿‡ï¼Œå®ƒæ˜¯æ–­è¨€å‹æ¥å£ï¼Œæ‰€ä»¥filteræ–¹æ³•ä¸­æ˜¯æ¥æ”¶ä¸€ä¸ªå’ŒPredicateå‡½æ•°å¯¹åº”Lambdaè¡¨è¾¾å¼ï¼Œè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œä»æµä¸­è¿‡æ»¤æŸäº›å…ƒç´ ã€‚<br><img src="https://user-gold-cdn.xitu.io/2019/7/22/16c1a2418a587f98?w=403&h=206&f=jpeg&s=26361" alt><br><img src="https://user-gold-cdn.xitu.io/2019/7/23/16c1ce5ccf0970d0?w=1464&h=1310&f=png&s=263394" alt></li><li>Stream<code>&lt;T&gt;</code> sorted(Comparator&lt;? super T&gt; comparator):<br>æŒ‡å®šæ¯”è¾ƒè§„åˆ™è¿›è¡Œæ’åºã€‚<br><img src="https://user-gold-cdn.xitu.io/2019/7/23/16c1ce00179fc96a?w=1464&h=1310&f=png&s=264409" alt></li><li>Stream<code>&lt;T&gt;</code> limit(long maxSize):<br>æˆªæ–­æµï¼Œä½¿å…¶å…ƒç´ ä¸è¶…è¿‡ç»™å®šæ•°é‡ã€‚å¦‚æœå…ƒç´ çš„ä¸ªæ•°å°äºmaxSizeï¼Œé‚£å°±è·å–æ‰€æœ‰å…ƒç´ ã€‚<br><img src="https://user-gold-cdn.xitu.io/2019/7/23/16c1ccc8ee241e40?w=403&h=205&f=jpeg&s=30573" alt><br><img src="https://user-gold-cdn.xitu.io/2019/7/23/16c1cf0a4636351b?w=1572&h=1346&f=png&s=290113" alt></li><li>Stream<code>&lt;T&gt;</code> skip(long n):<br>è·³è¿‡å…ƒç´ ï¼Œè¿”å›ä¸€ä¸ªæ‰”æ‰äº†å‰ n ä¸ªå…ƒç´ çš„æµã€‚è‹¥æµä¸­å…ƒç´ ä¸è¶³ n ä¸ªï¼Œåˆ™è¿”å›ä¸€ä¸ªç©ºæµã€‚ä¸ limit(n) äº’è¡¥ã€‚<br><img src="https://user-gold-cdn.xitu.io/2019/7/23/16c1ccc8eff0c379?w=403&h=205&f=jpeg&s=26993" alt><br><img src="https://user-gold-cdn.xitu.io/2019/7/23/16c1cf3c9ddadd22?w=1724&h=1346&f=png&s=299965" alt></li><li>Stream<code>&lt;R&gt;</code> map(Function&lt;? super T, ? extends R&gt; mapper)ï¼š<br>æ¥æ”¶ä¸€ä¸ªFunctionå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œè¯¥å‡½æ•°ä¼šè¢«åº”ç”¨åˆ°æ¯ä¸ªå…ƒç´ ä¸Šï¼Œå¹¶å°†å…¶æ˜ å°„æˆä¸€ä¸ªæ–°çš„å…ƒç´ ã€‚ä¹Ÿå°±æ˜¯è½¬æ¢æ“ä½œï¼Œmapè¿˜æœ‰ä¸‰ä¸ªåº”ç”¨äºå…·ä½“ç±»å‹æ–¹æ³•ï¼Œåˆ†åˆ«æ˜¯ï¼šmapToIntï¼ŒmapToLongå’ŒmapToDoubleã€‚è¿™ä¸‰ä¸ªæ–¹æ³•ä¹Ÿæ¯”è¾ƒå¥½ç†è§£ï¼Œæ¯”å¦‚mapToIntå°±æ˜¯æŠŠåŸå§‹Streamè½¬æ¢æˆä¸€ä¸ªæ–°çš„Streamï¼Œè¿™ä¸ªæ–°ç”Ÿæˆçš„Streamä¸­çš„å…ƒç´ éƒ½æ˜¯intç±»å‹ã€‚è¿™ä¸‰ä¸ªæ–¹æ³•å¯ä»¥å…é™¤è‡ªåŠ¨è£…ç®±/æ‹†ç®±çš„é¢å¤–æ¶ˆè€—ã€‚<br><img src="https://user-gold-cdn.xitu.io/2019/7/23/16c1ccc8f03ae276?w=403&h=202&f=bmp&s=325678" alt><br><img src="https://user-gold-cdn.xitu.io/2019/7/23/16c1cfdc901cae3f?w=1220&h=1454&f=png&s=269788" alt></li><li>Stream<code>&lt;R&gt;</code> flatMap(Function&lt;? super T, ? extends Stream&lt;? extends R&gt;&gt; mapper)ï¼š<br>æ¥æ”¶ä¸€ä¸ªFunctionå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œå°†æµä¸­çš„æ¯ä¸ªå€¼éƒ½è½¬æ¢æˆå¦ä¸€ä¸ªæµï¼Œç„¶åæŠŠæ‰€æœ‰æµè¿æ¥æˆä¸€ä¸ªæµã€‚flatMapä¹Ÿæœ‰ä¸‰ä¸ªåº”ç”¨äºå…·ä½“ç±»å‹çš„æ–¹æ³•ï¼Œåˆ†åˆ«æ˜¯ï¼šflatMapToIntã€flatMapToLongã€flatMapToDoubleï¼Œå…¶ä½œç”¨äºmapçš„ä¸‰ä¸ªè¡ç”Ÿæ–¹æ³•ç›¸åŒã€‚<br><img src="https://user-gold-cdn.xitu.io/2019/7/23/16c1ccc8f01d9be4?w=403&h=205&f=jpeg&s=30536" alt><br><img src="https://user-gold-cdn.xitu.io/2019/7/23/16c1d233eb214db4?w=1870&h=2066&f=png&s=451994" alt></li></ul><h4 id="Streamçš„ç»ˆç«¯æ“ä½œ"><a href="#Streamçš„ç»ˆç«¯æ“ä½œ" class="headerlink" title="Streamçš„ç»ˆç«¯æ“ä½œ"></a>Streamçš„ç»ˆç«¯æ“ä½œ</h4><p>ç»ˆç«¯æ“ä½œæ‰§è¡Œä¸­é—´æ“ä½œé“¾ï¼Œå¹¶è¿”å›ç»“æœã€‚ç»ˆç«¯æ“ä½œæˆ‘ä»¬å°±ä¸ä¸€ä¸€ä»‹ç»äº†ï¼Œåªä»‹ç»ä¸€ä¸‹å¸¸ç”¨çš„æ“ä½œã€‚è¯¦ç»†å¯çœ‹java.util.stream.Streamæ¥å£ä¸­çš„æ–¹æ³•ã€‚</p><ul><li>void forEach(Consumer&lt;? super T&gt; action):<br>å†…éƒ¨è¿­ä»£(éœ€è¦ç”¨æˆ·å»åšè¿­ä»£ï¼Œç§°ä¸ºå¤–éƒ¨è¿­ä»£ã€‚ç›¸åï¼ŒStream APIä½¿ç”¨å†…éƒ¨è¿­ä»£å¸®ä½ æŠŠè¿­ä»£åšäº†)<pre><code>users.stream().forEach(user -&gt; System.out.println(user.getName()));</code></pre></li><li>&lt;R, A&gt; R collect(Collector&lt;? super T, A, R&gt; collector):<br>æ”¶é›†ã€å°†æµè½¬æ¢ä¸ºå…¶ä»–å½¢å¼ï¼Œæ¯”å¦‚è½¬æ¢æˆListã€Setã€Mapã€‚collectæ–¹æ³•æ˜¯ç”¨Collectorä½œä¸ºå‚æ•°ï¼ŒCollectoræ¥å£ä¸­æ–¹æ³•çš„å®ç°å†³å®šäº†å¦‚ä½•å¯¹æµæ‰§è¡Œæ”¶é›†æ“ä½œ(å¦‚æ”¶é›†åˆ° Listã€Setã€Map)ã€‚ä½†æ˜¯ Collectors å®ç”¨ç±»æä¾›äº†å¾ˆå¤šé™æ€æ–¹æ³•ï¼Œå¯ä»¥æ–¹ä¾¿åœ°åˆ›å»ºå¸¸è§æ”¶é›†å™¨å®ä¾‹ã€‚ä¾‹ä¸¾ä¸€äº›å¸¸ç”¨çš„ï¼š<pre><code>List&lt;User&gt; users = Lists.newArrayList();users.add(new User(15, &quot;A&quot;, ImmutableList.of(&quot;1å…ƒ&quot;, &quot;5å…ƒ&quot;)));users.add(new User(25, &quot;B&quot;, ImmutableList.of(&quot;10å…ƒ&quot;, &quot;50å…ƒ&quot;)));users.add(new User(21, &quot;C&quot;, ImmutableList.of(&quot;100å…ƒ&quot;)));//æ”¶é›†åç§°åˆ°ListList&lt;String&gt; nameList = users.stream().map(User::getName).collect(Collectors.toList());//æ”¶é›†åç§°åˆ°ListSet&lt;String&gt; nameSet = users.stream().map(User::getName).collect(Collectors.toSet());//æ”¶é›†åˆ°map,åå­—ä½œä¸ºkey,userå¯¹è±¡ä½œä¸ºvalueMap&lt;String, User&gt; userMap = users.stream()              .collect(Collectors.toMap(User::getName, Function.identity(), (k1, k2) -&gt; k2));</code></pre></li><li>å…¶ä»–ç»ˆç«¯æ“ä½œï¼š<ol><li>boolean allMatch(Predicate&lt;? super T&gt; predicate); æ£€æŸ¥æ˜¯å¦åŒ¹é…æ‰€æœ‰å…ƒç´ ã€‚</li><li>boolean anyMatch(Predicate&lt;? super T&gt; predicate); æ£€æŸ¥æ˜¯å¦è‡³å°‘åŒ¹é…ä¸€ä¸ªå…ƒç´ ã€‚</li><li>boolean noneMatch(Predicate&lt;? super T&gt; predicate); æ£€æŸ¥æ˜¯å¦æ²¡æœ‰åŒ¹é…æ‰€æœ‰å…ƒç´ ã€‚</li><li>Optional<code>&lt;T&gt;</code> findFirst(); è¿”å›å½“å‰æµä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚</li><li>Optional<code>&lt;T&gt;</code> findAny(); è¿”å›å½“å‰æµä¸­çš„ä»»æ„å…ƒç´ ã€‚</li><li>long count(); è¿”å›æµä¸­å…ƒç´ æ€»æ•°ã€‚</li><li>Optional<code>&lt;T&gt;</code> max(Comparator&lt;? super T&gt; comparator); è¿”å›æµä¸­æœ€å¤§å€¼ã€‚</li><li>Optional<code>&lt;T&gt;</code> min(Comparator&lt;? super T&gt; comparator); è¿”å›æµä¸­æœ€å°å€¼ã€‚</li><li>T reduce(T identity, BinaryOperator<code>&lt;T&gt;</code> accumulator); å¯ä»¥å°†æµä¸­å…ƒç´ åå¤ç»“åˆèµ·æ¥ï¼Œå¾—åˆ°ä¸€ä¸ªå€¼ã€‚ è¿”å› Tã€‚è¿™æ˜¯ä¸€ä¸ªå½’çº¦æ“ä½œã€‚</li></ol></li></ul><h4 id="Fork-Joinæ¡†æ¶"><a href="#Fork-Joinæ¡†æ¶" class="headerlink" title="Fork/Joinæ¡†æ¶"></a>Fork/Joinæ¡†æ¶</h4><p>ä¸Šé¢æˆ‘ä»¬æåˆ°è¿‡ï¼Œè¯´Streamçš„å¹¶è¡Œæ¨¡å¼ä½¿ç”¨äº†Fork/Joinæ¡†æ¶ï¼Œè¿™é‡Œç®€å•è¯´ä¸‹Fork/Joinæ¡†æ¶æ˜¯ä»€ä¹ˆï¼ŸFork/Joinæ¡†æ¶æ˜¯java7ä¸­åŠ å…¥çš„ä¸€ä¸ªå¹¶è¡Œä»»åŠ¡æ¡†æ¶ï¼Œå¯ä»¥å°†ä»»åŠ¡æ‹†åˆ†ä¸ºå¤šä¸ªå°ä»»åŠ¡ï¼Œæ¯ä¸ªå°ä»»åŠ¡æ‰§è¡Œå®Œçš„ç»“æœåœ¨åˆå¹¶æˆä¸ºä¸€ä¸ªç»“æœã€‚åœ¨ä»»åŠ¡çš„æ‰§è¡Œè¿‡ç¨‹ä¸­ä½¿ç”¨å·¥ä½œçªƒå–ï¼ˆwork-stealingï¼‰ç®—æ³•ï¼Œå‡å°‘çº¿ç¨‹ä¹‹é—´çš„ç«äº‰ã€‚</p><ul><li>Fork/Joinå›¾è§£<br><img src="https://user-gold-cdn.xitu.io/2019/7/23/16c1e40b7eac4b89?w=800&h=426&f=png&s=85559" alt></li><li>å·¥ä½œçªƒå–å›¾è§£<br><img src="https://user-gold-cdn.xitu.io/2019/7/23/16c1e414bbc9585b?w=844&h=294&f=png&s=82893" alt><h4 id="Streamæ˜¯æ€ä¹ˆå®ç°çš„"><a href="#Streamæ˜¯æ€ä¹ˆå®ç°çš„" class="headerlink" title="Streamæ˜¯æ€ä¹ˆå®ç°çš„"></a>Streamæ˜¯æ€ä¹ˆå®ç°çš„</h4>å…ˆçœ‹ä¸‹æ•´ä½“ç±»å›¾:è“è‰²ç®­å¤´ä»£è¡¨ç»§æ‰¿ï¼Œç»¿è‰²ç®­å¤´ä»£è¡¨å®ç°ï¼Œçº¢è‰²ç®­å¤´ä»£è¡¨å†…éƒ¨ç±»ã€‚<br><img src="https://user-gold-cdn.xitu.io/2019/7/23/16c1ef0992b6e39c?w=982&h=854&f=png&s=760332" alt><br>å®é™…ä¸ŠStreamåªæœ‰ä¸¤ç§æ“ä½œï¼Œä¸­é—´æ“ä½œã€ç»ˆç«¯æ“ä½œï¼Œä¸­é—´æ“ä½œåªæ˜¯ä¸€ç§æ ‡è®°ï¼Œåªæœ‰ç»ˆç«¯æ“ä½œæ‰ä¼šå®é™…è§¦å‘æ‰§è¡Œã€‚æ‰€ä»¥Streamæµæ°´çº¿å¼çš„æ“ä½œå¤§è‡´åº”è¯¥æ˜¯ç”¨æŸç§æ–¹å¼è®°å½•ä¸­é—´æ“ä½œï¼Œåªæœ‰è°ƒç”¨ç»ˆç«¯æ“ä½œæ‰ä¼šå°†æ‰€æœ‰çš„ä¸­é—´æ“ä½œå åŠ åœ¨ä¸€èµ·åœ¨ä¸€æ¬¡è¿­ä»£ä¸­å…¨éƒ¨æ‰§è¡Œã€‚è¿™é‡Œåªåšç®€å•çš„ä»‹ç»ï¼Œæƒ³è¯¦ç»†äº†è§£çš„å¯ä»¥å‚è€ƒä¸‹é¢çš„å‚è€ƒèµ„æ–™ä¸­çš„é“¾æ¥ã€‚</li><li>æ“ä½œæ€ä¹ˆè®°å½•ï¼Ÿ<br><br>Streamçš„æ“ä½œè®°å½•æ˜¯é€šè¿‡ReferencePipelineè®°å½•çš„ï¼ŒReferencePipelineæœ‰ä¸‰ä¸ªå†…éƒ¨ç±»Headã€StatelessOpã€StatefulOpï¼ŒStreamä¸­ä½¿ç”¨Stageçš„æ¦‚å¿µæ¥æè¿°ä¸€ä¸ªå®Œæ•´çš„æ“ä½œï¼Œå¹¶ç”¨æŸç§å®ä¾‹åŒ–åçš„ReferencePipelineæ¥ä»£è¡¨Stageï¼ŒHeadç”¨äºè¡¨ç¤ºç¬¬ä¸€ä¸ªStageï¼Œå³è°ƒç”¨è¯¸å¦‚Collection.stream()æ–¹æ³•äº§ç”Ÿçš„Stageï¼Œå¾ˆæ˜¾ç„¶è¿™ä¸ªStageé‡Œä¸åŒ…å«ä»»ä½•æ“ä½œï¼ŒStatelessOpå’ŒStatefulOpåˆ†åˆ«è¡¨ç¤ºæ— çŠ¶æ€å’Œæœ‰çŠ¶æ€çš„Stageï¼Œå¯¹åº”äºæ— çŠ¶æ€å’Œæœ‰çŠ¶æ€çš„ä¸­é—´æ“ä½œã€‚<br><img src="https://user-gold-cdn.xitu.io/2019/7/24/16c1f94ee4740035?w=1000&h=265&f=png&s=37101" alt></li><li>æ“ä½œæ€ä¹ˆå åŠ ï¼Ÿ<br><br>æ“ä½œæ˜¯è®°å½•å®Œäº†ï¼Œä½†æ˜¯å‰é¢çš„Stageå¹¶ä¸çŸ¥é“åé¢Stageåˆ°åº•æ‰§è¡Œäº†å“ªç§æ“ä½œï¼Œä»¥åŠå›è°ƒå‡½æ•°æ˜¯å“ªç§å½¢å¼ã€‚è¿™å°±éœ€è¦æœ‰æŸç§åè®®æ¥åè°ƒç›¸é‚»Stageä¹‹é—´çš„è°ƒç”¨å…³ç³»ã€‚<br>è¿™ç§åè®®ç”±Sinkæ¥å£å®Œæˆï¼ŒSinkæ¥å£åŒ…å«çš„æ–¹æ³•å¦‚ä¸‹è¡¨æ‰€ç¤º:</li></ul><ol><li>void begin(long size)ï¼Œå¼€å§‹éå†å…ƒç´ ä¹‹å‰è°ƒç”¨è¯¥æ–¹æ³•ï¼Œé€šçŸ¥Sinkåšå¥½å‡†å¤‡ã€‚</li><li>void end()ï¼Œæ‰€æœ‰å…ƒç´ éå†å®Œæˆä¹‹åè°ƒç”¨ï¼Œé€šçŸ¥Sinkæ²¡æœ‰æ›´å¤šçš„å…ƒç´ äº†ã€‚</li><li>boolean cancellationRequested()ï¼Œæ˜¯å¦å¯ä»¥ç»“æŸæ“ä½œï¼Œå¯ä»¥è®©çŸ­è·¯æ“ä½œå°½æ—©ç»“æŸã€‚</li><li>void accept(T t)ï¼Œéå†å…ƒç´ æ—¶è°ƒç”¨ï¼Œæ¥å—ä¸€ä¸ªå¾…å¤„ç†å…ƒç´ ï¼Œå¹¶å¯¹å…ƒç´ è¿›è¡Œå¤„ç†ã€‚StageæŠŠè‡ªå·±åŒ…å«çš„æ“ä½œå’Œå›è°ƒæ–¹æ³•å°è£…åˆ°è¯¥æ–¹æ³•é‡Œï¼Œå‰ä¸€ä¸ªStageåªéœ€è¦è°ƒç”¨å½“å‰Stage.accept(T t)æ–¹æ³•å°±è¡Œäº†ã€‚<br></li></ol><p>æ¯ä¸ªStageéƒ½ä¼šå°†è‡ªå·±çš„æ“ä½œå°è£…åˆ°ä¸€ä¸ªSinké‡Œï¼Œå‰ä¸€ä¸ªStageåªéœ€è°ƒç”¨åä¸€ä¸ªStageçš„accept()æ–¹æ³•å³å¯ï¼Œå¹¶ä¸éœ€è¦çŸ¥é“å…¶å†…éƒ¨æ˜¯å¦‚ä½•å¤„ç†çš„ã€‚æœ‰äº†Sinkå¯¹æ“ä½œçš„åŒ…è£…ï¼ŒStageä¹‹é—´çš„è°ƒç”¨é—®é¢˜å°±è§£å†³äº†ï¼Œæ‰§è¡Œæ—¶åªéœ€è¦ä»æµæ°´çº¿çš„headå¼€å§‹å¯¹æ•°æ®æºä¾æ¬¡è°ƒç”¨æ¯ä¸ªStageå¯¹åº”çš„Sink.{begin(), accept(), cancellationRequested(), end()}æ–¹æ³•å°±å¯ä»¥äº†ã€‚</p><ul><li>æ“ä½œæ€ä¹ˆæ‰§è¡Œï¼Ÿ<br><img src="https://user-gold-cdn.xitu.io/2019/7/24/16c1fac591c62598?w=600&h=701&f=png&s=60869" alt><br>Sinkå®Œç¾å°è£…äº†Streamæ¯ä¸€æ­¥æ“ä½œï¼Œå¹¶ç»™å‡ºäº†[å¤„ç†-&gt;è½¬å‘]çš„æ¨¡å¼æ¥å åŠ æ“ä½œã€‚è¿™ä¸€è¿ä¸²çš„é½¿è½®å·²ç»å’¬åˆï¼Œå°±å·®æœ€åä¸€æ­¥æ‹¨åŠ¨é½¿è½®å¯åŠ¨æ‰§è¡Œã€‚æ˜¯ä»€ä¹ˆå¯åŠ¨è¿™ä¸€è¿ä¸²çš„æ“ä½œå‘¢ï¼Ÿä¹Ÿè®¸ä½ å·²ç»æƒ³åˆ°äº†å¯åŠ¨çš„åŸå§‹åŠ¨åŠ›å°±æ˜¯ç»“æŸæ“ä½œ(Terminal Operation)ï¼Œä¸€æ—¦è°ƒç”¨æŸä¸ªç»“æŸæ“ä½œï¼Œå°±ä¼šè§¦å‘æ•´ä¸ªæµæ°´çº¿çš„æ‰§è¡Œã€‚<h4 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h4><a href="https://ifeve.com/stream" target="_blank" rel="noopener">https://ifeve.com/stream</a><br><br><a href="https://www.ibm.com/developerworks/cn/java/j-lo-java8streamapi/" target="_blank" rel="noopener">https://www.ibm.com/developerworks/cn/java/j-lo-java8streamapi/</a><br><br><a href="https://segmentfault.com/a/1190000016781127" target="_blank" rel="noopener">https://segmentfault.com/a/1190000016781127</a><br><br><a href="https://github.com/CarpenterLee/JavaLambdaInternals/blob/master/6-Stream%20Pipelines.md" target="_blank" rel="noopener">https://github.com/CarpenterLee/JavaLambdaInternals/blob/master/6-Stream%20Pipelines.md</a><br></li></ul><blockquote><p>æ„Ÿè°¢å¤§å®¶çš„è§‚çœ‹ï¼Œå¸Œæœ›å¤šå¤šå…³æ³¨å“¦ã€‚ å¦‚æœ‰é”™è¯¯ï¼Œçƒ¦è¯·æŒ‡æ­£ã€‚</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> Java8 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€ŒJava8ç³»åˆ—ã€ç¥å¥‡çš„å‡½æ•°å¼æ¥å£</title>
      <link href="/2019/11/03/java8-xi-lie-shen-qi-de-han-shu-shi-jie-kou/"/>
      <url>/2019/11/03/java8-xi-lie-shen-qi-de-han-shu-shi-jie-kou/</url>
      
        <content type="html"><![CDATA[<h4 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h4><p>åœ¨ä¸Šä¸€ç¯‡Lambdaçš„è®²è§£ä¸­æˆ‘ä»¬å°±æåˆ°è¿‡å‡½æ•°å¼æ¥å£ï¼Œæ¯”å¦‚ï¼šConsumer<code>&lt;String&gt;</code> consumer = (s) -&gt; System.out.println(s);å…¶ä¸­Consumerå°±æ˜¯ä¸€ä¸ªå‡½æ•°å¼æ¥å£ã€‚è¿™é‡Œæ˜¯é€šè¿‡Lambdaè¡¨è¾¾å¼åˆ›å»ºäº†ä¸€ä¸ªå‡½æ•°å¼æ¥å£çš„å¯¹è±¡ã€‚å¦‚æœä¸çŸ¥é“ä»€ä¹ˆæ˜¯Lambdaï¼Œè¯·çœ‹ã€Š<a href="https://juejin.im/post/5d2d15825188253d7201d297" target="_blank" rel="noopener">ç¥ç§˜çš„Lambda</a>ã€‹ã€‚</p><h4 id="å‡½æ•°å¼æ¥å£æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#å‡½æ•°å¼æ¥å£æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="å‡½æ•°å¼æ¥å£æ˜¯ä»€ä¹ˆï¼Ÿ"></a>å‡½æ•°å¼æ¥å£æ˜¯ä»€ä¹ˆï¼Ÿ</h4><p>æœ‰ä¸”åªæœ‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³•çš„æ¥å£è¢«ç§°ä¸ºå‡½æ•°å¼æ¥å£ï¼Œå‡½æ•°å¼æ¥å£é€‚ç”¨äºå‡½æ•°å¼ç¼–ç¨‹çš„åœºæ™¯ï¼ŒLambdaå°±æ˜¯Javaä¸­å‡½æ•°å¼ç¼–ç¨‹çš„ä½“ç°ï¼Œå¯ä»¥ä½¿ç”¨Lambdaè¡¨è¾¾å¼åˆ›å»ºä¸€ä¸ªå‡½æ•°å¼æ¥å£çš„å¯¹è±¡ï¼Œä¸€å®šè¦ç¡®ä¿æ¥å£ä¸­æœ‰ä¸”åªæœ‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³•ï¼Œè¿™æ ·Lambdaæ‰èƒ½é¡ºåˆ©çš„è¿›è¡Œæ¨å¯¼ã€‚</p><h4 id="FunctionalInterfaceæ³¨è§£"><a href="#FunctionalInterfaceæ³¨è§£" class="headerlink" title="@FunctionalInterfaceæ³¨è§£"></a>@FunctionalInterfaceæ³¨è§£</h4><p>ä¸@Override æ³¨è§£çš„ä½œç”¨ç±»ä¼¼ï¼ŒJava 8ä¸­ä¸“é—¨ä¸ºå‡½æ•°å¼æ¥å£å¼•å…¥äº†ä¸€ä¸ªæ–°çš„æ³¨è§£ï¼š@FunctionalInterface ã€‚è¯¥æ³¨è§£å¯ç”¨äºä¸€ä¸ªæ¥å£çš„å®šä¹‰ä¸Š,ä¸€æ—¦ä½¿ç”¨è¯¥æ³¨è§£æ¥å®šä¹‰æ¥å£ï¼Œç¼–è¯‘å™¨å°†ä¼šå¼ºåˆ¶æ£€æŸ¥è¯¥æ¥å£æ˜¯å¦ç¡®å®æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³•ï¼Œå¦åˆ™å°†ä¼šæŠ¥é”™ã€‚ä½†æ˜¯è¿™ä¸ªæ³¨è§£ä¸æ˜¯å¿…é¡»çš„ï¼Œåªè¦ç¬¦åˆå‡½æ•°å¼æ¥å£çš„å®šä¹‰ï¼Œé‚£ä¹ˆè¿™ä¸ªæ¥å£å°±æ˜¯å‡½æ•°å¼æ¥å£ã€‚</p><h4 id="staticæ–¹æ³•å’Œdefaultæ–¹æ³•"><a href="#staticæ–¹æ³•å’Œdefaultæ–¹æ³•" class="headerlink" title="staticæ–¹æ³•å’Œdefaultæ–¹æ³•"></a>staticæ–¹æ³•å’Œdefaultæ–¹æ³•</h4><p>å®åœ¨ä¸çŸ¥é“è¯¥åœ¨å“ªä»‹ç»è¿™ä¸¤ä¸ªæ–¹æ³•äº†ï¼Œæ‰€ä»¥å°±ç©¿æ’åœ¨è¿™é‡Œäº†ã€‚</p><h5 id="staticæ–¹æ³•ï¼š"><a href="#staticæ–¹æ³•ï¼š" class="headerlink" title="staticæ–¹æ³•ï¼š"></a>staticæ–¹æ³•ï¼š</h5><p>java8ä¸­ä¸ºæ¥å£æ–°å¢äº†ä¸€é¡¹åŠŸèƒ½ï¼Œå®šä¹‰ä¸€ä¸ªæˆ–è€…å¤šä¸ªé™æ€æ–¹æ³•ã€‚ç”¨æ³•å’Œæ™®é€šçš„staticæ–¹æ³•ä¸€æ ·,ä¾‹å¦‚ï¼š</p><pre><code>public interface Interface {    /**     * é™æ€æ–¹æ³•     */    static void staticMethod() {        System.out.println(&quot;static method&quot;);    }}</code></pre><p><code>æ³¨æ„:å®ç°æ¥å£çš„ç±»æˆ–è€…å­æ¥å£ä¸ä¼šç»§æ‰¿æ¥å£ä¸­çš„é™æ€æ–¹æ³•ã€‚</code></p><h5 id="defaultæ–¹æ³•ï¼š"><a href="#defaultæ–¹æ³•ï¼š" class="headerlink" title="defaultæ–¹æ³•ï¼š"></a>defaultæ–¹æ³•ï¼š</h5><p>java8åœ¨æ¥å£ä¸­æ–°å¢defaultæ–¹æ³•ï¼Œæ˜¯ä¸ºäº†åœ¨ç°æœ‰çš„ç±»åº“ä¸­ä¸­æ–°å¢åŠŸèƒ½è€Œä¸å½±å“ä»–ä»¬çš„å®ç°ç±»ï¼Œè¯•æƒ³ä¸€ä¸‹ï¼Œå¦‚æœä¸å¢åŠ é»˜è®¤å®ç°çš„è¯ï¼Œæ¥å£çš„æ‰€æœ‰å®ç°ç±»éƒ½è¦å®ç°ä¸€éè¿™ä¸ªæ–¹æ³•ï¼Œè¿™ä¼šå‡ºç°å…¼å®¹æ€§é—®é¢˜ï¼Œå¦‚æœå®šä¹‰äº†é»˜è®¤å®ç°çš„è¯ï¼Œé‚£ä¹ˆå®ç°ç±»ç›´æ¥è°ƒç”¨å°±å¯ä»¥äº†ï¼Œå¹¶ä¸éœ€è¦å®ç°è¿™ä¸ªæ–¹æ³•ã€‚defaultæ–¹æ³•æ€ä¹ˆå®šä¹‰ï¼Ÿ</p><pre><code>public interface Interface {    /**     * defaultæ–¹æ³•     */    default void print() {        System.out.println(&quot;hello default&quot;);    }}</code></pre><p><code>æ³¨æ„ï¼šå¦‚æœæ¥å£ä¸­çš„é»˜è®¤æ–¹æ³•ä¸èƒ½æ»¡è¶³æŸä¸ªå®ç°ç±»éœ€è¦ï¼Œé‚£ä¹ˆå®ç°ç±»å¯ä»¥è¦†ç›–é»˜è®¤æ–¹æ³•ã€‚ä¸ç”¨åŠ defaultå…³é”®å­—ï¼Œ</code>ä¾‹å¦‚ï¼š</p><pre><code>public class InterfaceImpl implements Interface {    @Override    public  void print() {        System.out.println(&quot;hello default 2&quot;);    }}</code></pre><p>åœ¨å‡½æ•°å¼æ¥å£çš„å®šä¹‰ä¸­æ˜¯åªå…è®¸æœ‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³•ï¼Œä½†æ˜¯å¯ä»¥æœ‰å¤šä¸ªstaticæ–¹æ³•å’Œdefaultæ–¹æ³•ã€‚</p><h4 id="è‡ªå®šä¹‰å‡½æ•°å¼æ¥å£"><a href="#è‡ªå®šä¹‰å‡½æ•°å¼æ¥å£" class="headerlink" title="è‡ªå®šä¹‰å‡½æ•°å¼æ¥å£"></a>è‡ªå®šä¹‰å‡½æ•°å¼æ¥å£</h4><p>æŒ‰ç…§ä¸‹é¢çš„æ ¼å¼å®šä¹‰ï¼Œä½ ä¹Ÿèƒ½å†™å‡ºå‡½æ•°å¼æ¥å£ï¼š</p><pre><code> @FunctionalInterface ä¿®é¥°ç¬¦ interface æ¥å£åç§° {    è¿”å›å€¼ç±»å‹ æ–¹æ³•åç§°(å¯é€‰å‚æ•°ä¿¡æ¯);    // å…¶ä»–éæŠ½è±¡æ–¹æ³•å†…å®¹ }</code></pre><p>è™½ç„¶@FunctionalInterfaceæ³¨è§£ä¸æ˜¯å¿…é¡»çš„ï¼Œä½†æ˜¯è‡ªå®šä¹‰å‡½æ•°å¼æ¥å£æœ€å¥½è¿˜æ˜¯éƒ½åŠ ä¸Šï¼Œä¸€æ˜¯å…»æˆè‰¯å¥½çš„ç¼–ç¨‹ä¹ æƒ¯ï¼ŒäºŒæ˜¯é˜²æ­¢ä»–äººä¿®æ”¹ï¼Œä¸€çœ‹åˆ°è¿™ä¸ªæ³¨è§£å°±çŸ¥é“æ˜¯å‡½æ•°å¼æ¥å£ï¼Œé¿å…ä»–äººå¾€æ¥å£å†…æ·»åŠ æŠ½è±¡æ–¹æ³•é€ æˆä¸å¿…è¦çš„éº»çƒ¦ã€‚</p><pre><code>@FunctionalInterfacepublic interface MyFunction {    void print(String s);}</code></pre><p>çœ‹ä¸Šå›¾æ˜¯æˆ‘è‡ªå®šä¹‰çš„ä¸€ä¸ªå‡½æ•°å¼æ¥å£ï¼Œé‚£ä¹ˆè¿™ä¸ªæ¥å£çš„ä½œç”¨æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿå°±æ˜¯è¾“å‡ºä¸€ä¸²å­—ç¬¦ä¸²ï¼Œå±äºæ¶ˆè´¹å‹æ¥å£ï¼Œæ˜¯æ¨¡ä»¿Consumeræ¥å£å†™çš„ï¼Œåªä¸è¿‡è¿™ä¸ªæ²¡æœ‰ä½¿ç”¨æ³›å‹ï¼Œè€Œæ˜¯å°†å‚æ•°å…·ä½“ç±»å‹åŒ–äº†ï¼Œä¸çŸ¥é“Consumeræ²¡å…³ç³»ï¼Œä¸‹é¢ä¼šä»‹ç»åˆ°ï¼Œå…¶å®java8ä¸­æä¾›äº†å¾ˆå¤šå¸¸ç”¨çš„å‡½æ•°å¼æ¥å£ï¼ŒConsumerå°±æ˜¯å…¶ä¸­ä¹‹ä¸€ï¼Œä¸€èˆ¬æƒ…å†µä¸‹éƒ½ä¸éœ€è¦è‡ªå·±å®šä¹‰ï¼Œç›´æ¥ä½¿ç”¨å°±å¥½äº†ã€‚é‚£ä¹ˆæ€ä¹ˆä½¿ç”¨è¿™ä¸ªè‡ªå®šä¹‰çš„å‡½æ•°å¼æ¥å£å‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥ç”¨å‡½æ•°å¼æ¥å£ä½œä¸ºå‚æ•°ï¼Œè°ƒç”¨æ—¶ä¼ é€’Lambdaè¡¨è¾¾å¼ã€‚å¦‚æœä¸€ä¸ªæ–¹æ³•çš„å‚æ•°æ˜¯Lambdaï¼Œé‚£ä¹ˆè¿™ä¸ªå‚æ•°çš„ç±»å‹ä¸€å®šæ˜¯å‡½æ•°å¼æ¥å£ã€‚ä¾‹å¦‚ï¼š</p><pre><code>public class MyFunctionTest {    public static void main(String[] args) {        String text = &quot;è¯•è¯•è‡ªå®šä¹‰å‡½æ•°å¥½ä½¿ä¸&quot;;        printString(text, System.out::print);    }    private static void printString(String text, MyFunction myFunction) {        myFunction.print(text);    }}</code></pre><p>æ‰§è¡Œä»¥åå°±ä¼šè¾“å‡ºâ€œè¯•è¯•è‡ªå®šä¹‰å‡½æ•°å¥½ä½¿ä¸â€è¿™å¥è¯ï¼Œå¦‚æœæŸå¤©éœ€æ±‚å˜äº†ï¼Œæˆ‘ä¸æƒ³è¾“å‡ºè¿™å¥è¯äº†ï¼Œæƒ³è¾“å‡ºåˆ«çš„ï¼Œé‚£ä¹ˆç›´æ¥æ›¿æ¢textå°±å¥½äº†ã€‚å‡½æ•°å¼ç¼–ç¨‹æ˜¯æ²¡æœ‰å‰¯ä½œç”¨çš„ï¼Œæœ€å¤§çš„å¥½å¤„å°±æ˜¯å‡½æ•°çš„å†…éƒ¨æ˜¯æ— çŠ¶æ€çš„ï¼Œæ—¢è¾“å…¥ç¡®å®šè¾“å‡ºå°±ç¡®å®šã€‚å‡½æ•°å¼ç¼–ç¨‹è¿˜æœ‰æ›´å¤šå¥½ç©çš„å¥—è·¯ï¼Œè¿™å°±éœ€è¦é å¤§å®¶è‡ªå·±æ¢ç´¢äº†ã€‚ğŸ˜</p><h4 id="å¸¸ç”¨å‡½æ•°å¼æ¥å£"><a href="#å¸¸ç”¨å‡½æ•°å¼æ¥å£" class="headerlink" title="å¸¸ç”¨å‡½æ•°å¼æ¥å£"></a>å¸¸ç”¨å‡½æ•°å¼æ¥å£</h4><h5 id="Consumer-lt-T-gt-ï¼šæ¶ˆè´¹å‹æ¥å£"><a href="#Consumer-lt-T-gt-ï¼šæ¶ˆè´¹å‹æ¥å£" class="headerlink" title="Consumer&lt;T&gt;ï¼šæ¶ˆè´¹å‹æ¥å£"></a>Consumer<code>&lt;T&gt;</code>ï¼šæ¶ˆè´¹å‹æ¥å£</h5><p><strong>æŠ½è±¡æ–¹æ³•ï¼š</strong>  void accept(T t)ï¼Œæ¥æ”¶ä¸€ä¸ªå‚æ•°è¿›è¡Œæ¶ˆè´¹ï¼Œä½†æ— éœ€è¿”å›ç»“æœã€‚</p><p><strong>ä½¿ç”¨æ–¹å¼ï¼š</strong></p><pre><code>  Consumer consumer = System.out::println;  consumer.accept(&quot;hello function&quot;);</code></pre><p><strong>é»˜è®¤æ–¹æ³•ï¼š</strong> andThen(Consumer&lt;? super T&gt; after)ï¼Œå…ˆæ¶ˆè´¹ç„¶ååœ¨æ¶ˆè´¹ï¼Œå…ˆæ‰§è¡Œè°ƒç”¨andThenæ¥å£çš„acceptæ–¹æ³•ï¼Œç„¶ååœ¨æ‰§è¡ŒandThenæ–¹æ³•å‚æ•°afterä¸­çš„acceptæ–¹æ³•ã€‚</p><p><strong>ä½¿ç”¨æ–¹å¼ï¼š</strong>        </p><pre><code>  Consumer&lt;String&gt; consumer1 = s -&gt; System.out.print(&quot;è½¦åï¼š&quot;+s.split(&quot;,&quot;)[0]);  Consumer&lt;String&gt; consumer2 = s -&gt; System.out.println(&quot;--&gt;é¢œè‰²ï¼š&quot;+s.split(&quot;,&quot;)[1]);  String[] strings = {&quot;ä¿æ—¶æ·,ç™½è‰²&quot;, &quot;æ³•æ‹‰åˆ©,çº¢è‰²&quot;};  for (String string : strings) {     consumer1.andThen(consumer2).accept(string);  }</code></pre><p><strong>è¾“å‡ºï¼š</strong><br>è½¦åï¼šä¿æ—¶æ·â€“&gt;é¢œè‰²ï¼šç™½è‰²<br>è½¦åï¼šæ³•æ‹‰åˆ©â€“&gt;é¢œè‰²ï¼šçº¢è‰²</p><h5 id="Supplier-lt-T-gt-ä¾›ç»™å‹æ¥å£"><a href="#Supplier-lt-T-gt-ä¾›ç»™å‹æ¥å£" class="headerlink" title="Supplier&lt;T&gt;: ä¾›ç»™å‹æ¥å£"></a>Supplier<code>&lt;T&gt;</code>: ä¾›ç»™å‹æ¥å£</h5><p><strong>æŠ½è±¡æ–¹æ³•</strong>ï¼šT get()ï¼Œæ— å‚æ•°ï¼Œæœ‰è¿”å›å€¼ã€‚</p><p><strong>ä½¿ç”¨æ–¹å¼ï¼š</strong></p><pre><code> Supplier&lt;String&gt; supplier = () -&gt; &quot;æˆ‘è¦å˜çš„å¾ˆæœ‰é’±&quot;; System.out.println(supplier.get());</code></pre><p>æœ€åè¾“å‡ºå°±æ˜¯â€œæˆ‘è¦å˜å¾—å¾ˆæœ‰é’±â€ï¼Œè¿™ç±»æ¥å£é€‚åˆæä¾›æ•°æ®çš„åœºæ™¯ã€‚</p><h5 id="Function-lt-T-R-gt-å‡½æ•°å‹æ¥å£"><a href="#Function-lt-T-R-gt-å‡½æ•°å‹æ¥å£" class="headerlink" title="Function&lt;T,R&gt;: å‡½æ•°å‹æ¥å£"></a>Function<code>&lt;T,R&gt;</code>: å‡½æ•°å‹æ¥å£</h5><p><strong>æŠ½è±¡æ–¹æ³•ï¼š</strong> R apply(T t)ï¼Œä¼ å…¥ä¸€ä¸ªå‚æ•°ï¼Œè¿”å›æƒ³è¦çš„ç»“æœã€‚</p><p><strong>ä½¿ç”¨æ–¹å¼ï¼š</strong></p><pre><code> Function&lt;Integer, Integer&gt; function1 = e -&gt; e * 6; System.out.println(function1.apply(2));</code></pre><p>å¾ˆç®€å•çš„ä¸€ä¸ªä¹˜æ³•ä¾‹å­ï¼Œæ˜¾ç„¶æœ€åè¾“å‡ºæ˜¯12ã€‚</p><p><strong>é»˜è®¤æ–¹æ³•ï¼š</strong></p><ul><li>compose(Function&lt;? super V, ? extends T&gt; before)ï¼Œå…ˆæ‰§è¡Œcomposeæ–¹æ³•å‚æ•°beforeä¸­çš„applyæ–¹æ³•ï¼Œç„¶åå°†æ‰§è¡Œç»“æœä¼ é€’ç»™è°ƒç”¨composeå‡½æ•°ä¸­çš„applyæ–¹æ³•åœ¨æ‰§è¡Œã€‚</li></ul><p><strong>ä½¿ç”¨æ–¹å¼ï¼š</strong></p><pre><code> Function&lt;Integer, Integer&gt; function1 = e -&gt; e * 2; Function&lt;Integer, Integer&gt; function2 = e -&gt; e * e; Integer apply2 = function1.compose(function2).apply(3); System.out.println(apply2);</code></pre><p>è¿˜æ˜¯ä¸¾ä¸€ä¸ªä¹˜æ³•çš„ä¾‹å­ï¼Œcomposeæ–¹æ³•æ‰§è¡Œæµç¨‹æ˜¯å…ˆæ‰§è¡Œfunction2çš„è¡¨è¾¾å¼ä¹Ÿå°±æ˜¯3<em>3=9ï¼Œç„¶ååœ¨å°†æ‰§è¡Œç»“æœä¼ ç»™function1çš„è¡¨è¾¾å¼ä¹Ÿå°±æ˜¯9</em>2=18ï¼Œæ‰€ä»¥æœ€ç»ˆçš„ç»“æœæ˜¯18ã€‚</p><ul><li>andThen(Function&lt;? super R, ? extends V&gt; after)ï¼Œå…ˆæ‰§è¡Œè°ƒç”¨andThenå‡½æ•°çš„applyæ–¹æ³•ï¼Œç„¶ååœ¨å°†æ‰§è¡Œç»“æœä¼ é€’ç»™andThenæ–¹æ³•afterå‚æ•°ä¸­çš„applyæ–¹æ³•åœ¨æ‰§è¡Œã€‚å®ƒå’Œcomposeæ–¹æ³•æ•´å¥½æ˜¯ç›¸åçš„æ‰§è¡Œé¡ºåºã€‚</li></ul><p><strong>ä½¿ç”¨æ–¹å¼ï¼š</strong></p><pre><code> Function&lt;Integer, Integer&gt; function1 = e -&gt; e * 2; Function&lt;Integer, Integer&gt; function2 = e -&gt; e * e; Integer apply3 = function1.andThen(function2).apply(3); System.out.println(apply3);</code></pre><p>è¿™é‡Œæˆ‘ä»¬å’Œcomposeæ–¹æ³•ä½¿ç”¨ä¸€ä¸ªä¾‹å­ï¼Œæ‰€ä»¥æ˜¯ä¸€æ¨¡ä¸€æ ·çš„ä¾‹å­ï¼Œç”±äºæ–¹æ³•çš„ä¸åŒï¼Œæ‰§è¡Œé¡ºåºä¹Ÿå°±ä¸ç›¸åŒï¼Œé‚£ä¹ˆç»“æœæ˜¯å¤§å¤§ä¸åŒçš„ã€‚andThenæ–¹æ³•æ˜¯å…ˆæ‰§è¡Œfunction1è¡¨è¾¾å¼ï¼Œä¹Ÿå°±æ˜¯3<em>2=6ï¼Œç„¶ååœ¨æ‰§è¡Œfunction2è¡¨è¾¾å¼ä¹Ÿå°±æ˜¯6</em>6=36ã€‚ç»“æœå°±æ˜¯36ã€‚<br><strong>é™æ€æ–¹æ³•ï¼š</strong>identity()ï¼Œè·å–ä¸€ä¸ªè¾“å…¥å‚æ•°å’Œè¿”å›ç»“æœç›¸åŒçš„Functionå®ä¾‹ã€‚</p><p><strong>ä½¿ç”¨æ–¹å¼ï¼š</strong> </p><pre><code> Function&lt;Integer, Integer&gt; identity = Function.identity(); Integer apply = identity.apply(3); System.out.println(apply);</code></pre><p>å¹³å¸¸æ²¡æœ‰é‡åˆ°è¿‡ä½¿ç”¨è¿™ä¸ªæ–¹æ³•çš„åœºæ™¯ï¼Œæ€»ä¹‹è¿™ä¸ªæ–¹æ³•çš„ä½œç”¨å°±æ˜¯è¾“å…¥ä»€ä¹ˆè¿”å›ç»“æœå°±æ˜¯ä»€ä¹ˆã€‚</p><h5 id="Predicate-lt-T-gt-ï¼š-æ–­è¨€å‹æ¥å£"><a href="#Predicate-lt-T-gt-ï¼š-æ–­è¨€å‹æ¥å£" class="headerlink" title="Predicate&lt;T&gt; ï¼š æ–­è¨€å‹æ¥å£"></a>Predicate<code>&lt;T&gt;</code> ï¼š æ–­è¨€å‹æ¥å£</h5><p><strong>æŠ½è±¡æ–¹æ³•ï¼š</strong> boolean test(T t),ä¼ å…¥ä¸€ä¸ªå‚æ•°ï¼Œè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ã€‚</p><p><strong>ä½¿ç”¨æ–¹å¼ï¼š</strong></p><pre><code> Predicate&lt;Integer&gt; predicate = t -&gt; t &gt; 0; boolean test = predicate.test(1); System.out.println(test);</code></pre><p>å½“predicateå‡½æ•°è°ƒç”¨testæ–¹æ³•çš„æ—¶å€™ï¼Œå°±ä¼šæ‰§è¡Œæ‹¿testæ–¹æ³•çš„å‚æ•°è¿›è¡Œt -&gt; t &gt; 0çš„æ¡ä»¶åˆ¤æ–­ï¼Œ1è‚¯å®šæ˜¯å¤§äº0çš„ï¼Œæœ€ç»ˆç»“æœä¸ºtrueã€‚</p><p><strong>é»˜è®¤æ–¹æ³•ï¼š</strong></p><ul><li>and(Predicate&lt;? super T&gt; other)ï¼Œç›¸å½“äºé€»è¾‘è¿ç®—ç¬¦ä¸­çš„&amp;&amp;ï¼Œå½“ä¸¤ä¸ªPredicateå‡½æ•°çš„è¿”å›ç»“æœéƒ½ä¸ºtrueæ—¶æ‰è¿”å›trueã€‚</li></ul><p><strong>ä½¿ç”¨æ–¹å¼ï¼š</strong></p><pre><code> Predicate&lt;String&gt; predicate1 = s -&gt; s.length() &gt; 0; Predicate&lt;String&gt; predicate2 = Objects::nonNull; boolean test = predicate1.and(predicate2).test(&quot;&amp;&amp;æµ‹è¯•&quot;); System.out.println(test);</code></pre><ul><li>or(Predicate&lt;? super T&gt; other) ,ç›¸å½“äºé€»è¾‘è¿ç®—ç¬¦ä¸­çš„||ï¼Œå½“ä¸¤ä¸ªPredicateå‡½æ•°çš„è¿”å›ç»“æœæœ‰ä¸€ä¸ªä¸ºtrueåˆ™è¿”å›trueï¼Œå¦åˆ™è¿”å›falseã€‚</li></ul><p><strong>ä½¿ç”¨æ–¹å¼ï¼š</strong></p><pre><code> Predicate&lt;String&gt; predicate1 = s -&gt; false; Predicate&lt;String&gt; predicate2 = Objects::nonNull; boolean test = predicate1.and(predicate2).test(&quot;||æµ‹è¯•&quot;); System.out.println(test);</code></pre><ul><li>negate()ï¼Œè¿™ä¸ªæ–¹æ³•çš„æ„æ€å°±æ˜¯å–åã€‚</li></ul><p><strong>ä½¿ç”¨æ–¹å¼ï¼š</strong></p><pre><code> Predicate&lt;String&gt; predicate = s -&gt; s.length() &gt; 0; boolean result = predicate.negate().test(&quot;å–å&quot;); System.out.println(result);</code></pre><p>å¾ˆæ˜æ˜¾æ­£å¸¸æ‰§è¡Œtestæ–¹æ³•çš„è¯åº”è¯¥ä¸ºtrueï¼Œä½†æ˜¯è°ƒç”¨negateæ–¹æ³•åå°±è¿”å›ä¸ºfalseäº†ã€‚<br><strong>é™æ€æ–¹æ³•ï¼š</strong>isEqual(Object targetRef)ï¼Œå¯¹å½“å‰æ“ä½œè¿›è¡Œâ€=â€æ“ä½œ,å³å–ç­‰æ“ä½œ,å¯ä»¥ç†è§£ä¸º A == Bã€‚</p><p><strong>ä½¿ç”¨æ–¹å¼:</strong></p><pre><code> boolean test1 = Predicate.isEqual(&quot;test&quot;).test(&quot;test&quot;); boolean test2 = Predicate.isEqual(&quot;test&quot;).test(&quot;equal&quot;); System.out.println(test1);   //true System.out.println(test2);   //false</code></pre><h4 id="å…¶ä»–å‡½æ•°å¼æ¥å£"><a href="#å…¶ä»–å‡½æ•°å¼æ¥å£" class="headerlink" title="å…¶ä»–å‡½æ•°å¼æ¥å£"></a>å…¶ä»–å‡½æ•°å¼æ¥å£</h4><h5 id="Biç±»å‹æ¥å£"><a href="#Biç±»å‹æ¥å£" class="headerlink" title="Biç±»å‹æ¥å£"></a>Biç±»å‹æ¥å£</h5><p>BiConsumerã€BiFunctionã€BiPrediate æ˜¯ Consumerã€Functionã€Predicate çš„æ‰©å±•ï¼Œå¯ä»¥ä¼ å…¥å¤šä¸ªå‚æ•°ï¼Œæ²¡æœ‰ BiSupplier æ˜¯å› ä¸º Supplier æ²¡æœ‰å…¥å‚ã€‚</p><h5 id="æ“ä½œåŸºæœ¬æ•°æ®ç±»å‹çš„æ¥å£"><a href="#æ“ä½œåŸºæœ¬æ•°æ®ç±»å‹çš„æ¥å£" class="headerlink" title="æ“ä½œåŸºæœ¬æ•°æ®ç±»å‹çš„æ¥å£"></a>æ“ä½œåŸºæœ¬æ•°æ®ç±»å‹çš„æ¥å£</h5><p>IntConsumerã€IntFunctionã€IntPredicateã€IntSupplierã€LongConsumerã€LongFunctionã€LongPredicateã€LongSupplierã€DoubleConsumerã€DoubleFunctionã€DoublePredicateã€DoubleSupplierã€‚<br>å…¶å®å¸¸ç”¨çš„å‡½æ•°å¼æ¥å£å°±é‚£å››å¤§æ¥å£Consumerã€Functionã€Prediateã€Supplierï¼Œå…¶ä»–çš„å‡½æ•°å¼æ¥å£å°±ä¸ä¸€ä¸€åˆ—ä¸¾äº†ï¼Œæœ‰å…´è¶£çš„å¯ä»¥å»java.util.functionè¿™ä¸ªåŒ…ä¸‹è¯¦ç»†çš„çœ‹ã€‚</p><blockquote><p>æ„Ÿè°¢å¤§å®¶çš„è§‚çœ‹ï¼Œå¸Œæœ›å¤šå¤šå…³æ³¨å“¦ã€‚ å¦‚æœ‰é”™è¯¯ï¼Œçƒ¦è¯·æŒ‡æ­£ã€‚</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> Java8 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€ŒGoå­¦ä¹ ç¬”è®°ã€2.Goè¯­è¨€ç”±ä»€ä¹ˆç»„æˆï¼Ÿ</title>
      <link href="/2019/11/02/go-xue-xi-bi-ji-2-go-yu-yan-you-shi-me-zu-cheng/"/>
      <url>/2019/11/02/go-xue-xi-bi-ji-2-go-yu-yan-you-shi-me-zu-cheng/</url>
      
        <content type="html"><![CDATA[<h3 id="æ ‡è¯†ç¬¦"><a href="#æ ‡è¯†ç¬¦" class="headerlink" title="æ ‡è¯†ç¬¦"></a>æ ‡è¯†ç¬¦</h3><p>Goè¯­è¨€æ ‡è¯†ç¬¦æ˜¯ç”¨äºæ ‡è¯†å˜é‡ã€å‡½æ•°æˆ–ä»»ä½•ç”¨æˆ·è‡ªå®šä¹‰é¡¹ç›®çš„åç§°ï¼ˆç¨‹åºå®ä½“ï¼‰ï¼Œè¿™ä¸ªæ ‡è¯†ç¬¦å°±ç±»ä¼¼javaä¸­çš„æ•°æ®ç±»å‹ï¼ˆåŸºæœ¬æ•°æ®ç±»å‹ã€å¼•ç”¨æ•°æ®ç±»å‹ï¼‰ã€‚æ ‡è¯†ç¬¦æœ‰ä¸¤ç§ç±»åˆ«ï¼Œä¸€ç§æ˜¯ç”¨æˆ·è‡ªå®šä¹‰çš„æ ‡è¯†ç¬¦ï¼Œå®ƒä½œä¸ºç¨‹åºçš„å®ä½“å­˜åœ¨ã€‚å¦ä¸€ç§æ ‡è¯†ç¬¦æˆä¸ºé¢„å®šä¹‰æ ‡è¯†ç¬¦ï¼Œæ˜¯Goè¯­è¨€æºä»£ç ä¸­å£°æ˜çš„ã€‚ä¾‹å¦‚ï¼š</p><ol><li><p>æ•°æ®ç±»å‹</p><p>boolï¼ˆtrueå’Œfalseï¼‰ã€byteã€uintã€uint8ã€uint16ã€uint32ã€uint64ã€intã€int8ã€int16ã€int32ã€int64ã€float32ã€float64ã€stringã€uintptrã€‚</p></li><li><p>å†…å»ºå‡½æ•°å</p><p>appendã€capã€closeã€complexã€copyã€deleteã€imagã€lenã€makeã€newã€panicã€printã€printlnã€realã€recoverã€‚</p></li><li><p>å…¶ä»–æ ‡è¯†ç¬¦</p><p>iotaã€nilã€_ ã€‚</p><p>æœ€åä¸€ä¸ª_å«åšç©ºæ ‡è¯†ç¬¦ï¼Œä¸€èˆ¬ç”¨åœ¨å˜é‡å£°æ˜ä¸åŒ…çš„å¯¼å…¥ä¸­ï¼Œç±»ä¼¼Javaä¸­çš„nullã€‚</p></li></ol><h3 id="å…³é”®å­—"><a href="#å…³é”®å­—" class="headerlink" title="å…³é”®å­—"></a>å…³é”®å­—</h3><p>Goè¯­è¨€ä½œä¸ºä¸€é—¨é™æ€ç¼–è¯‘å‹è¯­è¨€ï¼Œå®ƒçš„å…³é”®å­—ä¸€å…±æœ‰25ä¸ªï¼Œç›¸æ¯”ä»–è¯­è¨€æ˜¾å¾—éå¸¸å°‘ï¼Œjavaå…³é”®å­—å°±æœ‰50ä¸ªï¼Œä¸è¿‡æ„Ÿè§‰Goè¯­è¨€çš„å…³é”®å­—å°‘çš„åŸå› ä¹Ÿæ˜¯å› ä¸ºå®ƒæŠŠæ•°æ®ç±»å‹å’Œå…³é”®å­—åˆ†å¼€äº†ï¼Œæ•°æ®ç±»å‹å«åšæ ‡è¯†ç¬¦äº†ï¼Œä¸‹é¢æ˜¯Goè¯­è¨€çš„25ä¸ªå…³é”®å­—</p><ol><li><p>åŒ…å¯¼å…¥ä¸å£°æ˜</p><p>importã€packageã€‚</p></li><li><p>ç¨‹åºå®ä½“å£°æ˜ä¸å®šä¹‰</p><p>varã€typeã€funcã€interfaceã€mapã€structã€chanã€constã€‚</p></li><li><p>æµç¨‹æ§åˆ¶</p><p>ifã€continueã€forã€returnã€goã€caseã€gotoã€switchã€selectã€clseã€breakã€defaultã€deferã€fallthroughã€rangeã€‚</p></li></ol><h3 id="å­—é¢é‡"><a href="#å­—é¢é‡" class="headerlink" title="å­—é¢é‡"></a>å­—é¢é‡</h3><p>å­—é¢é‡å°±æ˜¯è¡¨ç¤ºå€¼å¾—ä¸€ç§æ ‡è®°æ³•ï¼Œåœ¨Goè¯­è¨€ä¸­ï¼Œå­—é¢é‡çš„å«ä¹‰è¦æ›´å¹¿ä¸€äº›ï¼Œé¦–å…ˆï¼Œå®ƒç”¨äºè¡¨ç¤ºåŸºç¡€æ•°æ®ç±»å‹çš„å„ç§å­—é¢é‡ï¼Œå…¶æ¬¡ç”¨äºæ ‡è¯†ç”¨æˆ·æ„é€ çš„è‡ªå®šä¹‰å¤åˆæ•°æ®ç±»å‹çš„å­—é¢é‡ï¼Œæœ€åå®ƒè¿˜ç”¨äºæ ‡è¯†å¤åˆæ•°æ®ç±»å‹çš„å€¼çš„å¤åˆå­—é¢é‡ï¼Œç®€å•æ¥è¯´å®ƒä¼šè¢«ç”¨æ¥æ„é€ Structï¼ˆç»“æ„ä½“ï¼‰ã€Arrayï¼ˆæ•°ç»„ï¼‰ã€Sliceï¼ˆåˆ‡ç‰‡ï¼‰å’ŒMapï¼ˆå­—å…¸ï¼‰çš„å€¼ã€‚</p><p>ä¾‹å¦‚ï¼š</p><pre class="line-numbers language-go"><code class="language-go"><span class="token keyword">const</span> b <span class="token builtin">int</span> <span class="token operator">=</span> <span class="token number">10</span> <span class="token comment" spellcheck="true">//bä¸ºå¸¸é‡ï¼Œ10ä¸ºå­—é¢é‡</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="åˆ†éš”ç¬¦"><a href="#åˆ†éš”ç¬¦" class="headerlink" title="åˆ†éš”ç¬¦"></a>åˆ†éš”ç¬¦</h3><p>åˆ†éš”ç¬¦ç”¨æ¥åˆ†éš”Goè¯­è¨€ä¸­çš„å…ƒç´ ï¼Œä¾‹å¦‚ï¼š</p><pre class="line-numbers language-go"><code class="language-go">fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"Hello ï¼ŒWorld"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>åˆ†éš”ç¬¦åŒ…æ‹¬æ‹¬å·ã€ä¸­æ‹¬å·ã€å¤§æ‹¬å·ã€å°æ•°ç‚¹ã€é€—å·ã€åˆ†å·ã€å†’å·ã€çœç•¥å·ã€‚Goè¯­è¨€ä¸éœ€è¦åƒjavaé‚£æ ·æ¯è¡Œä»£ç éƒ½è¦ä»¥åˆ†å·ï¼ˆ;ï¼‰ç»“å°¾ã€‚</p><h3 id="è¿ç®—ç¬¦"><a href="#è¿ç®—ç¬¦" class="headerlink" title="è¿ç®—ç¬¦"></a>è¿ç®—ç¬¦</h3><p>è¿ç®—ç¬¦æ˜¯ç”¨æ¥æ‰§è¡Œè¿ç®—æˆ–é€»è¾‘æ“ä½œçš„ç¬¦å·ï¼ŒGoè¯­è¨€ä¸­çš„è¿ç®—ç¬¦å¦‚ä¸‹å›¾æ‰€ç¤º</p><ol><li>è¿ç®—ç¬¦<br><img src="https://user-gold-cdn.xitu.io/2019/10/19/16de344d04dffd76?w=1460&h=1002&f=png&s=1362101" alt><br><img src="https://user-gold-cdn.xitu.io/2019/10/19/16de344fb5ae925c?w=1460&h=268&f=png&s=245596" alt></li><li>è¿ç®—ç¬¦ä¼˜å…ˆçº§ï¼š<br><img src="https://user-gold-cdn.xitu.io/2019/10/19/16de34450aea1678?w=998&h=381&f=png&s=23293" alt><h3 id="æ³¨é‡Š"><a href="#æ³¨é‡Š" class="headerlink" title="æ³¨é‡Š"></a>æ³¨é‡Š</h3>Goè¯­è¨€ä¸­çš„æ³¨é‡Šæœ‰å¤šç§å†™æ³•å’ŒJavaå·®ä¸å¤šã€‚<pre class="line-numbers language-go"><code class="language-go"><span class="token comment" spellcheck="true">// å•è¡Œæ³¨é‡Š</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><pre class="line-numbers language-go"><code class="language-go"><span class="token comment" spellcheck="true">/*è¿™æ˜¯ä¸€æ¡Goæ³¨é‡Š*/</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><pre class="line-numbers language-go"><code class="language-go"><span class="token comment" spellcheck="true">/*è¿™æ˜¯ä¸€æ®µGoæ³¨é‡Š*/</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><blockquote><p>æ„Ÿè°¢å¤§å®¶çš„è§‚çœ‹ï¼Œå¸Œæœ›å¤šå¤šå…³æ³¨å“¦ã€‚ å¦‚æœ‰é”™è¯¯ï¼Œçƒ¦è¯·æŒ‡æ­£ã€‚</p></blockquote></li></ol>]]></content>
      
      
      <categories>
          
          <category> GO </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Go </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JUnit4æ•™ç¨‹+å®è·µ</title>
      <link href="/2019/11/01/junit4-jiao-cheng-shi-jian/"/>
      <url>/2019/11/01/junit4-jiao-cheng-shi-jian/</url>
      
        <content type="html"><![CDATA[<p><img src="junit.jpg" alt></p><h4 id="ä¸€ã€ä»€ä¹ˆæ˜¯JUnitï¼Ÿ"><a href="#ä¸€ã€ä»€ä¹ˆæ˜¯JUnitï¼Ÿ" class="headerlink" title="ä¸€ã€ä»€ä¹ˆæ˜¯JUnitï¼Ÿ"></a>ä¸€ã€ä»€ä¹ˆæ˜¯JUnitï¼Ÿ</h4><p>JUnitæ˜¯Javaç¼–ç¨‹è¯­è¨€çš„å•å…ƒæµ‹è¯•æ¡†æ¶ï¼Œç”¨äºç¼–å†™å’Œå¯é‡å¤è¿è¡Œçš„è‡ªåŠ¨åŒ–æµ‹è¯•ã€‚</p><h4 id="äºŒã€JUnitç‰¹ç‚¹ï¼š"><a href="#äºŒã€JUnitç‰¹ç‚¹ï¼š" class="headerlink" title="äºŒã€JUnitç‰¹ç‚¹ï¼š"></a>äºŒã€JUnitç‰¹ç‚¹ï¼š</h4><ul><li>JUnit æ˜¯ä¸€ä¸ªå¼€æ”¾çš„èµ„æºæ¡†æ¶ï¼Œç”¨äºç¼–å†™å’Œè¿è¡Œæµ‹è¯•ã€‚ </li><li>æä¾›æ³¨è§£æ¥è¯†åˆ«æµ‹è¯•æ–¹æ³•ã€‚</li><li>æä¾›æ–­è¨€æ¥æµ‹è¯•é¢„æœŸç»“æœã€‚ </li><li>JUnit æµ‹è¯•å…è®¸ä½ ç¼–å†™ä»£ç æ›´å¿«ï¼Œå¹¶èƒ½æé«˜è´¨é‡ã€‚</li><li>JUnit ä¼˜é›…ç®€æ´ã€‚æ²¡é‚£ä¹ˆå¤æ‚ï¼ŒèŠ±è´¹æ—¶é—´è¾ƒå°‘ã€‚ </li><li>JUnitæµ‹è¯•å¯ä»¥è‡ªåŠ¨è¿è¡Œå¹¶ä¸”æ£€æŸ¥è‡ªèº«ç»“æœå¹¶æä¾›å³æ—¶åé¦ˆã€‚æ‰€ä»¥ä¹Ÿæ²¡æœ‰å¿…è¦äººå·¥æ¢³ç†æµ‹è¯•ç»“æœçš„æŠ¥å‘Šã€‚ </li><li>JUnitæµ‹è¯•å¯ä»¥è¢«ç»„ç»‡ä¸ºæµ‹è¯•å¥—ä»¶ï¼ŒåŒ…å«æµ‹è¯•ç”¨ä¾‹ï¼Œç”šè‡³å…¶ä»–çš„æµ‹è¯•å¥—ä»¶ã€‚ </li><li>JUnitåœ¨ä¸€ä¸ªæ¡ä¸­æ˜¾ç¤ºè¿›åº¦ã€‚å¦‚æœè¿è¡Œè‰¯å¥½åˆ™æ˜¯ç»¿è‰²ï¼›å¦‚æœè¿è¡Œå¤±è´¥ï¼Œåˆ™å˜æˆçº¢è‰²ã€‚</li></ul><h4 id="ä¸‰ã€JUnitæ³¨è§£"><a href="#ä¸‰ã€JUnitæ³¨è§£" class="headerlink" title="ä¸‰ã€JUnitæ³¨è§£"></a>ä¸‰ã€JUnitæ³¨è§£</h4><table><thead><tr><th>æ³¨è§£</th><th>æè¿°</th></tr></thead><tbody><tr><td>@Test</td><td>æµ‹è¯•æ³¨è§£ï¼Œæ ‡è®°ä¸€ä¸ªæ–¹æ³•å¯ä»¥ä½œä¸ºä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹ ã€‚</td></tr><tr><td>@Before</td><td>Beforeæ³¨è§£è¡¨ç¤ºï¼Œè¯¥æ–¹æ³•å¿…é¡»åœ¨ç±»ä¸­çš„æ¯ä¸ªæµ‹è¯•ä¹‹å‰æ‰§è¡Œ,ä»¥ä¾¿æ‰§è¡ŒæŸäº›å¿…è¦çš„å…ˆå†³æ¡ä»¶ã€‚</td></tr><tr><td>@BeforeClass</td><td>BeforeClassæ³¨è§£æŒ‡å‡ºè¿™æ˜¯é™„ç€åœ¨é™æ€æ–¹æ³•å¿…é¡»æ‰§è¡Œä¸€æ¬¡å¹¶åœ¨ç±»çš„æ‰€æœ‰æµ‹è¯•ä¹‹å‰ï¼Œè¿™ç§æƒ…å†µä¸€èˆ¬ç”¨äºæµ‹è¯•è®¡ç®—ã€å…±äº«é…åˆ¶æ–¹æ³•(å¦‚æ•°æ®åº“è¿æ¥)ã€‚</td></tr><tr><td>@After</td><td>Afteræ³¨é‡Šè¡¨ç¤ºï¼Œè¯¥æ–¹æ³•åœ¨æ¯é¡¹æµ‹è¯•åæ‰§è¡Œï¼ˆå¦‚æ‰§è¡Œæ¯ä¸€ä¸ªæµ‹è¯•åé‡ç½®æŸäº›å˜é‡ï¼Œåˆ é™¤ä¸´æ—¶å˜é‡ç­‰ï¼‰ã€‚</td></tr><tr><td>@AfterClass</td><td>å½“éœ€è¦æ‰§è¡Œæ‰€æœ‰æµ‹è¯•åœ¨JUnitæµ‹è¯•ç”¨ä¾‹ç±»åæ‰§è¡Œï¼ŒAlterClassæ³¨è§£å¯ä»¥ä½¿ç”¨ä»¥æ¸…ç†ä¸€äº›èµ„æºï¼ˆå¦‚æ•°æ®åº“è¿æ¥ï¼‰ï¼Œæ³¨æ„ï¼šæ–¹æ³•å¿…é¡»ä¸ºé™æ€æ–¹æ³•ã€‚</td></tr><tr><td>@Ignore</td><td>å½“æƒ³æš‚æ—¶ç¦ç”¨ç‰¹å®šçš„æµ‹è¯•æ‰§è¡Œå¯ä»¥ä½¿ç”¨è¿™ä¸ªæ³¨è§£ï¼Œæ¯ä¸ªè¢«æ³¨è§£ä¸º@Ignoreçš„æ–¹æ³•å°†ä¸å†æ‰§è¡Œ</td></tr><tr><td>@Runwith</td><td>@Runwithå°±æ˜¯æ”¾åœ¨æµ‹è¯•ç±»åä¹‹å‰ï¼Œç”¨æ¥ç¡®å®šè¿™ä¸ªç±»æ€ä¹ˆè¿è¡Œçš„ã€‚ä¹Ÿå¯ä»¥ä¸æ ‡æ³¨ï¼Œä¼šä½¿ç”¨é»˜è®¤è¿è¡Œå™¨ã€‚</td></tr><tr><td>@Parameters</td><td>ç”¨äºä½¿ç”¨å‚æ•°åŒ–åŠŸèƒ½ã€‚</td></tr><tr><td>@SuiteClasses</td><td>ç”¨äºå¥—ä»¶æµ‹è¯•</td></tr></tbody></table><h4 id="å››ã€JUnitæ–­è¨€"><a href="#å››ã€JUnitæ–­è¨€" class="headerlink" title="å››ã€JUnitæ–­è¨€"></a>å››ã€JUnitæ–­è¨€</h4><table><thead><tr><th>æ–­è¨€</th><th>æè¿°</th></tr></thead><tbody><tr><td>void assertEquals([String message],expected value,actual value)</td><td>æ–­è¨€ä¸¤ä¸ªå€¼ç›¸ç­‰ã€‚å€¼ç±»å‹å¯èƒ½æ˜¯intï¼Œshortï¼Œlongï¼Œbyteï¼Œcharï¼ŒObjectï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå¯é€‰å­—ç¬¦ä¸²æ¶ˆæ¯</td></tr><tr><td>void assertTrue([String message],boolean condition)</td><td>æ–­è¨€ä¸€ä¸ªæ¡ä»¶ä¸ºçœŸ</td></tr><tr><td>void assertFalse([String message],boolean condition)</td><td>æ–­è¨€ä¸€ä¸ªæ¡ä»¶ä¸ºå‡</td></tr><tr><td>void assertNotNull([String message],java.lang.Object object)</td><td>æ–­è¨€ä¸€ä¸ªå¯¹è±¡ä¸ä¸ºç©ºï¼ˆnullï¼‰</td></tr><tr><td>void assertNull([String message],java.lang.Object object)</td><td>æ–­è¨€ä¸€ä¸ªå¯¹è±¡ä¸ºç©ºï¼ˆnullï¼‰</td></tr><tr><td>void assertSame([String message],java.lang.Object expected,java.lang.Object actual)</td><td>æ–­è¨€ä¸¤ä¸ªå¯¹è±¡å¼•ç”¨ç›¸åŒçš„å¯¹è±¡</td></tr><tr><td>void assertNotSame([String message],java.lang.Object unexpected,java.lang.Object actual)</td><td>æ–­è¨€ä¸¤ä¸ªå¯¹è±¡ä¸æ˜¯å¼•ç”¨åŒä¸€ä¸ªå¯¹è±¡</td></tr><tr><td>void assertArrayEquals([String message],expectedArray,resultArray)</td><td>æ–­è¨€é¢„æœŸæ•°ç»„å’Œç»“æœæ•°ç»„ç›¸ç­‰ï¼Œæ•°ç»„ç±»å‹å¯èƒ½æ˜¯intï¼Œshortï¼Œlongï¼Œbyteï¼Œcharï¼ŒObject</td></tr></tbody></table><p>è®©æˆ‘ä»¬çœ‹ä¸‹ä½¿ç”¨æ–­è¨€çš„ä¾‹å­ã€‚<br>AssertionTest.java</p><pre><code>public class AssertionTest {    @Test    public void test() {        String obj1 = &quot;junit&quot;;        String obj2 = &quot;junit&quot;;        String obj3 = &quot;test&quot;;        String obj4 = &quot;test&quot;;        String obj5 = null;        int var1 = 1;        int var2 = 2;        int[] array1 = {1, 2, 3};        int[] array2 = {1, 2, 3};        Assert.assertEquals(obj1, obj2);        Assert.assertSame(obj3, obj4);        Assert.assertNotSame(obj2, obj4);        Assert.assertNotNull(obj1);        Assert.assertNull(obj5);        Assert.assertTrue(var1 &lt; var2);        Assert.assertFalse(var1 &gt; var2);        Assert.assertArrayEquals(array1, array2);    }}</code></pre><p>åœ¨ä»¥ä¸Šç±»ä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œè¿™äº›æ–­è¨€æ–¹æ³•æ˜¯å¯ä»¥å·¥ä½œçš„ã€‚  </p><ul><li>assertEquals() å¦‚æœæ¯”è¾ƒçš„ä¸¤ä¸ªå¯¹è±¡æ˜¯ç›¸ç­‰çš„ï¼Œæ­¤æ–¹æ³•å°†æ­£å¸¸è¿”å›ï¼›å¦åˆ™å¤±è´¥æ˜¾ç¤ºåœ¨JUnitçš„çª—å£æµ‹è¯•å°†ä¸­æ­¢ã€‚  </li><li>assertSame() å’Œ assertNotSame() æ–¹æ³•æµ‹è¯•ä¸¤ä¸ªå¯¹è±¡å¼•ç”¨æŒ‡å‘å®Œå…¨ç›¸åŒçš„å¯¹è±¡ã€‚  </li><li>assertNull() å’Œ assertNotNull() æ–¹æ³•æµ‹è¯•ä¸€ä¸ªå˜é‡æ˜¯å¦ä¸ºç©ºæˆ–ä¸ä¸ºç©º(null)ã€‚  </li><li>assertTrue() å’Œ assertFalse() æ–¹æ³•æµ‹è¯•ifæ¡ä»¶æˆ–å˜é‡æ˜¯trueè¿˜æ˜¯falseã€‚  </li><li>assertArrayEquals() å°†æ¯”è¾ƒä¸¤ä¸ªæ•°ç»„ï¼Œå¦‚æœå®ƒä»¬ç›¸ç­‰ï¼Œåˆ™è¯¥æ–¹æ³•å°†ç»§ç»­è¿›è¡Œä¸ä¼šå‘å‡ºé”™è¯¯ã€‚å¦åˆ™å¤±è´¥å°†æ˜¾ç¤ºåœ¨JUnitçª—å£å’Œä¸­æ­¢æµ‹è¯•ã€‚</li></ul><h4 id="äº”ã€JUnitæ‰§è¡Œè¿‡ç¨‹"><a href="#äº”ã€JUnitæ‰§è¡Œè¿‡ç¨‹" class="headerlink" title="äº”ã€JUnitæ‰§è¡Œè¿‡ç¨‹"></a>äº”ã€JUnitæ‰§è¡Œè¿‡ç¨‹</h4><p>JuntiTest.java</p><pre><code>public class JunitTest {    @BeforeClass    public static void beforeClass() {        System.out.println(&quot;in before class&quot;);    }    @AfterClass    public static void afterClass() {        System.out.println(&quot;in after class&quot;);    }    @Before    public void before() {        System.out.println(&quot;in before&quot;);    }    @After    public void after() {        System.out.println(&quot;in after&quot;);    }    @Test    public void testCase1() {        System.out.println(&quot;in test case 1&quot;);    }    @Test    public void testCase2() {        System.out.println(&quot;in test case 2&quot;);    }}</code></pre><p>é€šè¿‡ideaæ‰§è¡Œæ•´ä¸ªæµ‹è¯•ç±»åï¼Œæ‰§è¡Œç»“æœï¼š</p><pre><code>in before classin beforein test case 1in afterin beforein test case 2in afterin after class</code></pre><h4 id="å…­ã€å¿½ç•¥æµ‹è¯•"><a href="#å…­ã€å¿½ç•¥æµ‹è¯•" class="headerlink" title="å…­ã€å¿½ç•¥æµ‹è¯•"></a>å…­ã€å¿½ç•¥æµ‹è¯•</h4><ul><li>ä¸€ä¸ªå¸¦æœ‰@Ignoreæ³¨è§£çš„æµ‹è¯•æ–¹æ³•ä¸ä¼šè¢«æ‰§è¡Œ</li><li>å¦‚æœä¸€ä¸ªæµ‹è¯•ç±»å¸¦æœ‰@Ignoreæ³¨è§£ï¼Œåˆ™å®ƒçš„æµ‹è¯•æ–¹æ³•å°†ä¸ä¼šè¢«æ‰§è¡Œ</li></ul><p>æˆ‘ä»¬æŠŠåˆšæ‰æµ‹è¯•ç±»ä¸­çš„testCase2()æ–¹æ³•æ ‡è®°ä¸º@Ignore,</p><pre><code>    @Ignore    @Test    public void testCase2() {        System.out.println(&quot;in test case 2&quot;);    }</code></pre><p>ç„¶ååœ¨æ‰§è¡Œæµ‹è¯•ç±»çš„æ—¶å€™å°±ä¼šå¿½è§†è¿™ä¸ªæ–¹æ³•ï¼Œç»“æœä¸ºï¼š</p><pre><code>in before classin beforein test case 1in afterTest ignored.in after class</code></pre><h4 id="ä¸ƒã€æ—¶é—´æµ‹è¯•"><a href="#ä¸ƒã€æ—¶é—´æµ‹è¯•" class="headerlink" title="ä¸ƒã€æ—¶é—´æµ‹è¯•"></a>ä¸ƒã€æ—¶é—´æµ‹è¯•</h4><p>JUnitæä¾›äº†ä¸€ä¸ªæš‚åœçš„æ–¹ä¾¿é€‰é¡¹ï¼Œå¦‚æœä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹æ¯”èµ·æŒ‡å®šçš„æ¯«ç§’æ•°èŠ±è´¹äº†æ›´å¤šçš„æ—¶é—´ï¼Œé‚£ä¹ˆJUnitå°†è‡ªåŠ¨å°†å®ƒæ ‡è®°ä¸ºå¤±è´¥ï¼Œtimeoutå‚æ•°å’Œ@Testæ³¨è§£ä¸€èµ·ä½¿ç”¨ï¼Œä¾‹å¦‚@Test(timeout=1000)ã€‚<br>ç»§ç»­ä½¿ç”¨åˆšæ‰çš„ä¾‹å­ï¼Œç°åœ¨å°†testCase1çš„æ‰§è¡Œæ—¶é—´å»¶é•¿åˆ°5000æ¯«ç§’ï¼Œå¹¶åŠ ä¸Šæ—¶é—´å‚æ•°,è®¾ç½®è¶…æ—¶ä¸º1000æ¯«ç§’ï¼Œç„¶åæ‰§è¡Œæµ‹è¯•ç±»</p><pre><code>    @Test(timeout = 1000)    public void testCase1() throws InterruptedException {        TimeUnit.SECONDS.sleep(5000);        System.out.println(&quot;in test case 1&quot;);    }</code></pre><p>testCase1è¢«æ ‡è®°ä¸ºå¤±è´¥ï¼Œå¹¶ä¸”æŠ›å‡ºå¼‚å¸¸ï¼Œæ‰§è¡Œç»“æœï¼š</p><pre><code>in before classin beforein afterorg.junit.runners.model.TestTimedOutException: test timed out after 1000 milliseconds    at java.lang.Thread.sleep(Native Method)    at java.lang.Thread.sleep(Thread.java:340)    at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)    at com.lxs.JUnit.JunitTest.testCase1(JunitTest.java:35)    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)    at java.lang.reflect.Method.invoke(Method.java:498)    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)    at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)    at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)    at java.util.concurrent.FutureTask.run(FutureTask.java:266)    at java.lang.Thread.run(Thread.java:748)in beforein test case 2in afterin after class</code></pre><h4 id="å…«ã€å¼‚å¸¸æµ‹è¯•"><a href="#å…«ã€å¼‚å¸¸æµ‹è¯•" class="headerlink" title="å…«ã€å¼‚å¸¸æµ‹è¯•"></a>å…«ã€å¼‚å¸¸æµ‹è¯•</h4><p>Junit ç”¨ä»£ç å¤„ç†æä¾›äº†ä¸€ä¸ªè¿½è¸ªå¼‚å¸¸çš„é€‰é¡¹ã€‚ä½ å¯ä»¥æµ‹è¯•ä»£ç æ˜¯å¦å®ƒæŠ›å‡ºäº†æƒ³è¦å¾—åˆ°çš„å¼‚å¸¸ã€‚expected å‚æ•°å’Œ @Test æ³¨é‡Šä¸€èµ·ä½¿ç”¨ã€‚ç°åœ¨è®©æˆ‘ä»¬çœ‹çœ‹ @Test(expected)ã€‚æ–°å»ºæµ‹è¯•æ–¹æ³•testCase3()ã€‚</p><pre><code>    @Test(expected = ArithmeticException.class)    public void testCase3() {        System.out.println(&quot;in test case 3&quot;);        int a = 0;        int b = 1 / a;    }</code></pre><p>å•ç‹¬æ‰§è¡ŒtestCase3()æ–¹æ³•ï¼Œç”±äºå¾—åˆ°äº†ä¸€ä¸ªé¢„æœŸå¼‚å¸¸ï¼Œæ‰€ä»¥æµ‹è¯•é€šè¿‡ï¼Œç»“æœä¸º</p><pre><code>in before classin beforein test case 3in afterin after class</code></pre><p>å¦‚æœæ²¡æœ‰å¾—åˆ°é¢„æœŸå¼‚å¸¸ï¼š</p><pre><code>in before classin beforein test case 3in afterjava.lang.AssertionError: Expected exception: java.lang.ArithmeticExceptionin after class</code></pre><h4 id="ä¹ã€å‚æ•°åŒ–æµ‹è¯•"><a href="#ä¹ã€å‚æ•°åŒ–æµ‹è¯•" class="headerlink" title="ä¹ã€å‚æ•°åŒ–æµ‹è¯•"></a>ä¹ã€å‚æ•°åŒ–æµ‹è¯•</h4><p>Junit 4 å¼•å…¥äº†ä¸€ä¸ªæ–°çš„åŠŸèƒ½å‚æ•°åŒ–æµ‹è¯•ã€‚å‚æ•°åŒ–æµ‹è¯•å…è®¸å¼€å‘äººå‘˜ä½¿ç”¨ä¸åŒçš„å€¼åå¤è¿è¡ŒåŒ     ä¸€ä¸ªæµ‹è¯•ã€‚ä½ å°†éµå¾ª 5 ä¸ªæ­¥éª¤æ¥åˆ›å»ºå‚æ•°åŒ–æµ‹è¯•ï¼š</p><p> -ä¸ºå‡†å¤‡ä½¿ç”¨å‚æ•°åŒ–æµ‹è¯•çš„æµ‹è¯•ç±»æŒ‡å®šç‰¹æ®Šçš„è¿è¡Œå™¨ org.junit.runners.Parameterizedã€‚</p><ul><li>ä¸ºæµ‹è¯•ç±»å£°æ˜å‡ ä¸ªå˜é‡ï¼Œåˆ†åˆ«ç”¨äºå­˜æ”¾æœŸæœ›å€¼å’Œæµ‹è¯•æ‰€ç”¨æ•°æ®ã€‚</li><li>ä¸ºæµ‹è¯•ç±»å£°æ˜ä¸€ä¸ªå¸¦æœ‰å‚æ•°çš„å…¬å…±æ„é€ å‡½æ•°ï¼Œå¹¶åœ¨å…¶ä¸­ä¸ºç¬¬äºŒä¸ªç¯èŠ‚ä¸­å£°æ˜çš„å‡ ä¸ªå˜é‡èµ‹å€¼ã€‚</li><li>ä¸ºæµ‹è¯•ç±»å£°æ˜ä¸€ä¸ªä½¿ç”¨æ³¨è§£ org.junit.runners.Parameterized.Parameters ä¿®é¥°çš„ï¼Œè¿”å›å€¼ä¸º java.util.Collection çš„å…¬å…±é™æ€æ–¹æ³•ï¼Œå¹¶åœ¨æ­¤æ–¹æ³•ä¸­åˆå§‹åŒ–æ‰€æœ‰éœ€è¦æµ‹è¯•çš„å‚æ•°å¯¹ã€‚</li><li>ç¼–å†™æµ‹è¯•æ–¹æ³•ï¼Œä½¿ç”¨å®šä¹‰çš„å˜é‡ä½œä¸ºå‚æ•°è¿›è¡Œæµ‹è¯•ã€‚</li></ul><h6 id="ä»€ä¹ˆæ˜¯-RunWith"><a href="#ä»€ä¹ˆæ˜¯-RunWith" class="headerlink" title="ä»€ä¹ˆæ˜¯@RunWith?"></a>ä»€ä¹ˆæ˜¯@RunWith?</h6><p> é¦–å…ˆè¦åˆ†æ¸…å‡ ä¸ªæ¦‚å¿µï¼šæµ‹è¯•æ–¹æ³•ã€æµ‹è¯•ç±»ã€æµ‹è¯•é›†ã€æµ‹è¯•è¿è¡Œå™¨ã€‚</p><ul><li>å…¶ä¸­æµ‹è¯•æ–¹æ³•å°±æ˜¯ç”¨@Testæ³¨è§£çš„ä¸€äº›å‡½æ•°ã€‚</li><li>æµ‹è¯•ç±»æ˜¯åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªæµ‹è¯•æ–¹æ³•çš„ä¸€ä¸ª**Test.javaæ–‡ä»¶ï¼Œ</li><li>æµ‹è¯•é›†æ˜¯ä¸€ä¸ªsuiteï¼Œå¯èƒ½åŒ…å«å¤šä¸ªæµ‹è¯•ç±»ã€‚</li><li>æµ‹è¯•è¿è¡Œå™¨åˆ™å†³å®šäº†ç”¨ä»€ä¹ˆæ–¹å¼åå¥½å»è¿è¡Œè¿™äº›æµ‹è¯•é›†/ç±»/æ–¹æ³•ã€‚</li></ul><p>è€Œ@Runwithå°±æ˜¯æ”¾åœ¨æµ‹è¯•ç±»åä¹‹å‰ï¼Œç”¨æ¥ç¡®å®šè¿™ä¸ªç±»æ€ä¹ˆè¿è¡Œçš„ã€‚ä¹Ÿå¯ä»¥ä¸æ ‡æ³¨ï¼Œä¼šä½¿ç”¨é»˜è®¤è¿è¡Œå™¨ã€‚å¸¸è§çš„è¿è¡Œå™¨æœ‰ï¼š</p><ul><li>@RunWith(Parameterized.class) å‚æ•°åŒ–è¿è¡Œå™¨ï¼Œé…åˆ@Parametersä½¿ç”¨JUnitçš„å‚æ•°åŒ–åŠŸèƒ½</li><li>@RunWith(Suite.class)<br>@SuiteClasses({ATest.class,BTest.class,CTest.class})<br>æµ‹è¯•é›†è¿è¡Œå™¨é…åˆä½¿ç”¨æµ‹è¯•é›†åŠŸèƒ½</li><li>@RunWith(JUnit4.class)ï¼Œ    junit4çš„é»˜è®¤è¿è¡Œå™¨</li><li>@RunWith(JUnit38ClassRunner.class)ï¼Œç”¨äºå…¼å®¹junit3.8çš„è¿è¡Œå™¨</li><li>ä¸€äº›å…¶å®ƒè¿è¡Œå™¨å…·å¤‡æ›´å¤šåŠŸèƒ½ã€‚ä¾‹å¦‚@RunWith(SpringJUnit4ClassRunner.class)é›†æˆäº†springçš„ä¸€äº›åŠŸèƒ½</li></ul><p>PrimeNumberCheckerTest.java</p><pre><code>/** * æ­¥éª¤ä¸€: æŒ‡å®šå®šå‚æ•°è¿è¡Œå™¨ */@RunWith(Parameterized.class)public class PrimeNumberCheckerTest {    /**     * æ­¥éª¤äºŒï¼šå£°æ˜å˜é‡     */    private Integer inputNumber;    private Boolean expectedResult;    private PrimeNumberChecker primeNumberChecker;    /**     * æ­¥éª¤ä¸‰ï¼šä¸ºæµ‹è¯•ç±»å£°æ˜ä¸€ä¸ªå¸¦æœ‰å‚æ•°çš„å…¬å…±æ„é€ å‡½æ•°ï¼Œä¸ºå˜é‡èµ‹å€¼     */    public PrimeNumberCheckerTest(Integer inputNumber,                                  Boolean expectedResult) {        this.inputNumber = inputNumber;        this.expectedResult = expectedResult;    }    /**     * æ­¥éª¤å››ï¼šä¸ºæµ‹è¯•ç±»å£°æ˜ä¸€ä¸ªä½¿ç”¨æ³¨è§£ org.junit.runners.Parameterized.Parameters ä¿®é¥°çš„ï¼Œè¿”å›å€¼ä¸º     * java.util.Collection çš„å…¬å…±é™æ€æ–¹æ³•ï¼Œå¹¶åœ¨æ­¤æ–¹æ³•ä¸­åˆå§‹åŒ–æ‰€æœ‰éœ€è¦æµ‹è¯•çš„å‚æ•°å¯¹     *   1ï¼‰è¯¥æ–¹æ³•å¿…é¡»ç”±Parametersæ³¨è§£ä¿®é¥°           2ï¼‰è¯¥æ–¹æ³•å¿…é¡»ä¸ºpublic staticçš„           3ï¼‰è¯¥æ–¹æ³•å¿…é¡»è¿”å›Collectionç±»å‹           4ï¼‰è¯¥æ–¹æ³•çš„åå­—ä¸åšè¦æ±‚           5ï¼‰è¯¥æ–¹æ³•æ²¡æœ‰å‚æ•°      */    @Parameterized.Parameters    public static Collection primeNumbers() {        return Arrays.asList(new Object[][]{                {2, true},                {6, false},                {19, true},                {22, false},                {23, true}        });    }    @Before    public void initialize() {        primeNumberChecker = new PrimeNumberChecker();    }    /**     * æ­¥éª¤äº”ï¼šç¼–å†™æµ‹è¯•æ–¹æ³•ï¼Œä½¿ç”¨è‡ªå®šä¹‰å˜é‡è¿›è¡Œæµ‹è¯•     */    @Test    public void testPrimeNumberChecker() {        System.out.println(&quot;Parameterized Number is : &quot; + inputNumber);        Assert.assertEquals(expectedResult,                primeNumberChecker.validate(inputNumber));    }}</code></pre><p>PrimeNumberChecker.java</p><pre><code>public class PrimeNumberChecker {    public Boolean validate(final Integer parimeNumber) {        for (int i = 2; i &lt; (parimeNumber / 2); i++) {            if (parimeNumber % i == 0) {                return false;            }        }        return true;    }}</code></pre><p>JUnitä¼šæŒ‰ç…§è®¾ç½®çš„å‚æ•°å¤šæ¬¡æ‰§è¡Œï¼Œæ‰§è¡Œç»“æœï¼š</p><pre><code>Parameterized Number is : 2Parameterized Number is : 6Parameterized Number is : 19Parameterized Number is : 22Parameterized Number is : 23</code></pre><h4 id="åã€å¥—ä»¶æµ‹è¯•"><a href="#åã€å¥—ä»¶æµ‹è¯•" class="headerlink" title="åã€å¥—ä»¶æµ‹è¯•"></a>åã€å¥—ä»¶æµ‹è¯•</h4><p>â€œå¥—ä»¶æµ‹è¯•â€æ˜¯æŒ‡æ†ç»‘äº†å‡ ä¸ªå•å…ƒæµ‹è¯•ç”¨ä¾‹å¹¶è¿è¡Œèµ·æ¥ã€‚åœ¨JUnitä¸­ï¼Œ@RunWith å’Œ @Suite è¿™ä¸¤ä¸ªæ³¨è§£æ˜¯ç”¨æ¥è¿è¡Œå¥—ä»¶æµ‹è¯•ã€‚å…ˆæ¥åˆ›å»ºå‡ ä¸ªæµ‹è¯•ç±»</p><pre><code>public class JunitTest1 {    @Test    public void printMessage(){        System.out.println(&quot;in JunitTest1&quot;);    }}</code></pre><pre><code>public class JunitTest2 {    @Test    public void printMessage(){        System.out.println(&quot;in JunitTest2&quot;);    }}</code></pre><pre><code>@RunWith(Suite.class)@Suite.SuiteClasses({        /**         * æ­¤å¤„ç±»çš„é…ç½®é¡ºåºä¼šå½±å“æ‰§è¡Œé¡ºåº         */        JunitTest1.class,        JunitTest2.class})public class JunitSuite {}</code></pre><p>æ‰§è¡ŒJunitSuiteæµ‹è¯•ç±»ï¼Œæ‰§è¡Œç»“æœï¼š</p><pre><code>in JunitTest1in JunitTest2</code></pre>]]></content>
      
      
      <categories>
          
          <category> æµ‹è¯• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JUnit4 </tag>
            
            <tag> å•å…ƒæµ‹è¯• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€ŒJava8ç³»åˆ—ã€ç¥ç§˜çš„Lambda</title>
      <link href="/2019/10/31/java8-xi-lie-shen-mi-de-lambda/"/>
      <url>/2019/10/31/java8-xi-lie-shen-mi-de-lambda/</url>
      
        <content type="html"><![CDATA[<h4 id="æ¥è§¦èƒŒæ™¯"><a href="#æ¥è§¦èƒŒæ™¯" class="headerlink" title="æ¥è§¦èƒŒæ™¯"></a>æ¥è§¦èƒŒæ™¯</h4><p>ç¬¬ä¸€æ¬¡æ¥è§¦lambdaè¡¨è¾¾å¼æ—¶ï¼Œæ„Ÿè§‰è¿™ä¸ªä¸œè¥¿æŒºç¥å¥‡çš„ï¼ˆé«˜é€¼æ ¼ï¼‰ï¼Œä¸€ä¸ªï¼ˆï¼‰åŠ -&gt;å°±èƒ½ä¼ é€’ä¸€æ®µä»£ç ï¼Œå½“æ—¶å…¬å¸é¡¹ç›®ä¸­æ¥æ‰‹åŒäº‹çš„ä»£ç ï¼Œè‡ªå·±ä¹Ÿå¯¹java8çš„ç‰¹æ€§ä¸äº†è§£ï¼Œçœ‹çš„ä¹Ÿæ˜¯ä¸€å¤´é›¾æ°´ï¼Œä¹‹åå°±èµ¶å¿«çœ‹äº†ä¸‹ã€Šjava8å®æˆ˜ã€‹è¿™æœ¬ä¹¦ï¼Œå†³å®šå†™ä¸€ä¸ªjava8ç‰¹æ€§ç³»åˆ—çš„åšå®¢ï¼Œæ—¢åŠ æ·±è‡ªå·±çš„å°è±¡ï¼Œè¿˜èƒ½è·Ÿå¤§å®¶åˆ†äº«ä¸€ä¸‹ï¼Œå¸Œæœ›å¤§å®¶å¤šå¤šæŒ‡æ•™ğŸ˜„ã€‚</p><h4 id="ä»€ä¹ˆæ˜¯Lambdaï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯Lambdaï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯Lambdaï¼Ÿ"></a>ä»€ä¹ˆæ˜¯Lambdaï¼Ÿ</h4><p>Lambdaæ˜¯ä¸€ä¸ªåŒ¿åå‡½æ•°ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠLambdaè¡¨è¾¾å¼ç†è§£ä¸ºæ˜¯ä¸€æ®µå¯ä»¥ä¼ é€’çš„ä»£ç (å°†ä»£ç åƒå‚æ•°ä¸€æ ·è¿›è¡Œä¼ é€’ï¼Œç§°ä¸ºè¡Œä¸ºå‚æ•°åŒ–)ã€‚Lambdaå…è®¸æŠŠå‡½æ•°ä½œä¸ºä¸€ä¸ªæ–¹æ³•çš„å‚æ•°ï¼ˆå‡½æ•°ä½œä¸ºå‚æ•°ä¼ é€’è¿›æ–¹æ³•ä¸­ï¼‰ï¼Œè¦åšåˆ°è¿™ä¸€ç‚¹å°±éœ€è¦äº†è§£ï¼Œä»€ä¹ˆæ˜¯å‡½æ•°å¼æ¥å£ï¼Œè¿™é‡Œå…ˆä¸åšä»‹ç»ï¼Œç­‰ä¸‹ä¸€ç¯‡åœ¨è®²è§£ã€‚</p><p>é¦–å…ˆå…ˆçœ‹ä¸€ä¸‹lambdaé•¿ä»€ä¹ˆæ ·ï¼Ÿ<br>æ­£å¸¸å†™æ³•ï¼š</p><pre><code>new Thread(new Runnable() {    @Override    public void run() {       System.out.println(&quot;hello lambda&quot;);    }}).start();</code></pre><p>lambdaå†™æ³•ï¼š</p><pre><code>new Thread(    () -&gt; System.out.println(&quot;hello lambda&quot;)).start();</code></pre><p>æ€ä¹ˆæ ·ï¼Ÿæ˜¯ä¸æ˜¯æ„Ÿè§‰å¾ˆç®€æ´ï¼Œæ²¡é”™ï¼Œè¿™å°±æ˜¯lambdaçš„é­…åŠ›ï¼Œä»–å¯ä»¥è®©ä½ å†™å‡ºæ¥çš„ä»£ç æ›´ç®€å•ã€æ›´çµæ´»ã€‚</p><h4 id="Lambdaæ€ä¹ˆå†™ï¼Ÿ"><a href="#Lambdaæ€ä¹ˆå†™ï¼Ÿ" class="headerlink" title="Lambdaæ€ä¹ˆå†™ï¼Ÿ"></a>Lambdaæ€ä¹ˆå†™ï¼Ÿ</h4><p><img src="https://user-gold-cdn.xitu.io/2019/7/16/16bf81c30ea9b895?w=798&h=434&f=png&s=59257" alt><br>å¤§å®¶çœ‹ä¸€äº›ä¸Šé¢çš„è¿™ä¸ªå›¾ï¼Œè¿™å°±æ˜¯lambdaçš„è¯­æ³•ï¼Œä¸€ä¸ªlambdaåˆ†ä¸ºä¸‰éƒ¨åˆ†ï¼šå‚æ•°åˆ—è¡¨ã€æ“ä½œç¬¦ã€lambdaä½“ã€‚ä»¥ä¸‹æ˜¯lambdaè¡¨è¾¾å¼çš„é‡è¦ç‰¹å¾ï¼š</p><ul><li><code>å¯é€‰ç±»å‹å£°æ˜ï¼š</code><br>ä¸éœ€è¦å£°æ˜å‚æ•°ç±»å‹ï¼Œç¼–è¯‘å™¨å¯ä»¥ç»Ÿä¸€è¯†åˆ«å‚æ•°å€¼ã€‚ä¹Ÿå°±è¯´(s) -&gt; System.out.println(s)å’Œ<br>(String s) -&gt; System.out.println(s)æ˜¯ä¸€æ ·çš„ç¼–è¯‘å™¨ä¼šè¿›è¡Œç±»å‹æ¨æ–­æ‰€ä»¥ä¸éœ€è¦æ·»åŠ å‚æ•°ç±»å‹ã€‚</li><li><code>å¯é€‰çš„å‚æ•°åœ†æ‹¬å·ï¼š</code><br>ä¸€ä¸ªå‚æ•°æ— éœ€å®šä¹‰åœ†æ‹¬å·ï¼Œä½†å¤šä¸ªå‚æ•°éœ€è¦å®šä¹‰åœ†æ‹¬å·ã€‚ä¾‹å¦‚ï¼š<ol><li>s -&gt; System.out.println(s)  ä¸€ä¸ªå‚æ•°ä¸éœ€è¦æ·»åŠ åœ†æ‹¬å·ã€‚</li><li>(x, y) -&gt; Integer.compare(y, x) ä¸¤ä¸ªå‚æ•°æ·»åŠ äº†åœ†æ‹¬å·ï¼Œå¦åˆ™ç¼–è¯‘å™¨æŠ¥é”™ã€‚</li></ol></li><li><code>å¯é€‰çš„å¤§æ‹¬å·ï¼š</code><br>å¦‚æœä¸»ä½“åŒ…å«äº†ä¸€ä¸ªè¯­å¥ï¼Œå°±ä¸éœ€è¦ä½¿ç”¨å¤§æ‹¬å·ã€‚<ol><li>s -&gt; System.out.println(s) , ä¸éœ€è¦å¤§æ‹¬å·.</li><li>(s) -&gt; {<pre><code>     if (s.equals(&quot;s&quot;)){        System.out.println(s);     }</code></pre>   };    éœ€è¦å¤§æ‹¬å·</li></ol></li><li><code>å¯é€‰çš„è¿”å›å…³é”®å­—ï¼š</code><br>å¦‚æœä¸»ä½“åªæœ‰ä¸€ä¸ªè¡¨è¾¾å¼è¿”å›å€¼åˆ™ç¼–è¯‘å™¨ä¼šè‡ªåŠ¨è¿”å›å€¼ï¼Œå¤§æ‹¬å·éœ€è¦æŒ‡å®šæ˜è¡¨è¾¾å¼è¿”å›äº†ä¸€ä¸ªæ•°å€¼ã€‚</li></ul><p>Lambdaä½“ä¸åŠ { }å°±ä¸ç”¨å†™return:</p><pre><code> Comparator&lt;Integer&gt; com = (x, y) -&gt; Integer.compare(y, x); </code></pre><p>  Lambdaä½“åŠ ä¸Š{ }å°±éœ€è¦æ·»åŠ return:</p><pre><code>  Comparator&lt;Integer&gt; com = (x, y) -&gt; {            int compare = Integer.compare(y, x);            return compare;        }; </code></pre><h4 id="ç±»å‹æ¨æ–­"><a href="#ç±»å‹æ¨æ–­" class="headerlink" title="ç±»å‹æ¨æ–­"></a>ç±»å‹æ¨æ–­</h4><p>   ä¸Šé¢æˆ‘ä»¬çœ‹åˆ°äº†ä¸€ä¸ªlambdaè¡¨è¾¾å¼åº”è¯¥æ€ä¹ˆå†™ï¼Œä½†lambdaä¸­æœ‰ä¸€ä¸ªé‡è¦ç‰¹å¾æ˜¯<code>å¯é€‰å‚æ•°ç±»å‹å£°æ˜</code>ï¼Œå°±æ˜¯è¯´ä¸ç”¨å†™å‚æ•°çš„ç±»å‹ï¼Œé‚£ä¹ˆä¸ºä»€ä¹ˆä¸ç”¨å†™å‘¢ï¼Ÿå®ƒæ˜¯æ€ä¹ˆçŸ¥é“çš„å‚æ•°ç±»å‹å‘¢ï¼Ÿè¿™å°±æ¶‰åŠåˆ°ç±»å‹æ¨æ–­äº†ã€‚</p><p><strong>java8çš„æ³›å‹ç±»å‹æ¨æ–­æ”¹è¿›ï¼š</strong></p><ul><li>æ”¯æŒé€šè¿‡æ–¹æ³•ä¸Šä¸‹æ–‡æ¨æ–­æ³›å‹ç›®æ ‡ç±»å‹</li><li>æ”¯æŒåœ¨æ–¹æ³•è°ƒç”¨é“¾è·¯ä¸­ï¼Œæ³›å‹ç±»å‹æ¨æ–­ä¼ é€’åˆ°æœ€åä¸€ä¸ªæ–¹æ³•</li></ul><pre><code>List&lt;Person&gt; ps = ...Stream&lt;String&gt; names = ps.stream().map(p -&gt; p.getName());</code></pre><p>  åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œpsçš„ç±»å‹æ˜¯List<code>&lt;Person&gt;</code>ï¼Œæ‰€ä»¥ps.stream()çš„è¿”å›ç±»å‹æ˜¯Stream<code>&lt;Person&gt;</code>ã€‚map()æ–¹æ³•æ¥æ”¶ä¸€ä¸ªç±»å‹ä¸ºFunction&lt;T, R&gt;çš„å‡½æ•°å¼æ¥å£ï¼Œè¿™é‡ŒTçš„ç±»å‹å³æ˜¯Streamå…ƒç´ çš„ç±»å‹ï¼Œä¹Ÿå°±æ˜¯Personï¼Œè€ŒRçš„ç±»å‹æœªçŸ¥ã€‚ç”±äºåœ¨é‡è½½è§£æä¹‹ålambdaè¡¨è¾¾å¼çš„ç›®æ ‡ç±»å‹ä»ç„¶æœªçŸ¥ï¼Œæˆ‘ä»¬å°±éœ€è¦æ¨å¯¼Rçš„ç±»å‹ï¼šé€šè¿‡å¯¹lambdaè¡¨è¾¾å¼lambdaè¿›è¡Œç±»å‹æ£€æŸ¥ï¼Œæˆ‘ä»¬å‘ç°lambdaä½“è¿”å›Stringï¼Œå› æ­¤Rçš„ç±»å‹æ˜¯Stringï¼Œå› è€Œmap()è¿”å›Stream<code>&lt;String&gt;</code>ã€‚ç»å¤§å¤šæ•°æƒ…å†µä¸‹ç¼–è¯‘å™¨éƒ½èƒ½è§£æå‡ºæ­£ç¡®çš„ç±»å‹ï¼Œä½†å¦‚æœç¢°åˆ°æ— æ³•è§£æçš„æƒ…å†µï¼Œæˆ‘ä»¬åˆ™éœ€è¦ï¼š</p><ul><li>ä½¿ç”¨æ˜¾å¼lambdaè¡¨è¾¾å¼ï¼ˆä¸ºå‚æ•°pæä¾›æ˜¾å¼ç±»å‹ï¼‰ä»¥æä¾›é¢å¤–çš„ç±»å‹ä¿¡æ¯</li><li>æŠŠlambdaè¡¨è¾¾å¼è½¬å‹ä¸ºFunction&lt;Person, String&gt;</li><li>ä¸ºæ³›å‹å‚æ•°Ræä¾›ä¸€ä¸ªå®é™…ç±»å‹ã€‚ï¼ˆ <code>&lt;String&gt;</code>map(p -&gt; p.getName())ï¼‰</li></ul><h4 id="æ–¹æ³•å¼•ç”¨"><a href="#æ–¹æ³•å¼•ç”¨" class="headerlink" title="æ–¹æ³•å¼•ç”¨"></a>æ–¹æ³•å¼•ç”¨</h4><p>æ–¹æ³•å¼•ç”¨æ˜¯ç”¨æ¥ç›´æ¥è®¿é—®ç±»æˆ–è€…å®ä¾‹å·²ç»å­˜åœ¨çš„æ–¹æ³•æˆ–æ„é€ æ–¹æ³•ï¼Œæä¾›äº†ä¸€ç§å¼•ç”¨è€Œä¸æ‰§è¡Œæ–¹æ³•çš„æ–¹å¼ã€‚æ˜¯ä¸€ç§æ›´ç®€æ´æ›´æ˜“æ‡‚çš„Lambdaè¡¨è¾¾å¼ï¼Œå½“Lambdaè¡¨è¾¾å¼ä¸­åªæ˜¯æ‰§è¡Œä¸€ä¸ªæ–¹æ³•è°ƒç”¨æ—¶ï¼Œç›´æ¥ä½¿ç”¨æ–¹æ³•å¼•ç”¨çš„å½¢å¼å¯è¯»æ€§æ›´é«˜ä¸€äº›ã€‚<br> æ–¹æ³•å¼•ç”¨ä½¿ç”¨ â€œ :: â€ æ“ä½œç¬¦æ¥è¡¨ç¤ºï¼Œå·¦è¾¹æ˜¯ç±»åæˆ–å®ä¾‹åï¼Œå³è¾¹æ˜¯æ–¹æ³•åã€‚<br><code>ï¼ˆæ³¨æ„ï¼šæ–¹æ³•å¼•ç”¨::å³è¾¹çš„æ–¹æ³•åæ˜¯ä¸éœ€è¦åŠ ï¼ˆï¼‰çš„ï¼Œä¾‹ï¼šUser::getNameï¼‰</code></p><p><strong>æ–¹æ³•å¼•ç”¨çš„å‡ ç§å½¢å¼ï¼š</strong></p><ul><li>ç±» :: é™æ€æ–¹æ³•</li><li>ç±» :: å®ä¾‹æ–¹æ³•</li><li>å¯¹è±¡ :: å®ä¾‹æ–¹æ³•</li></ul><pre><code>ä¾‹å¦‚ï¼š    Consumer&lt;String&gt; consumer = (s) -&gt; System.out.println(s);ç­‰åŒäºï¼š    Consumer&lt;String&gt; consumer = System.out::println;ä¾‹å¦‚ï¼š    Function&lt;String, Integer&gt; stringToInteger = (String s) -&gt; Integer.parseInt(s);ç­‰åŒäºï¼š    Function&lt;String, Integer&gt; stringToInteger = Integer::parseInt;ä¾‹å¦‚ï¼š    BiPredicate&lt;List&lt;String&gt;, String&gt; contains = (list, element) -&gt; list.contains(element);ç­‰åŒäºï¼š    BiPredicate&lt;List&lt;String&gt;, String&gt; contains = List::contains;</code></pre><p><strong><code>æ³¨æ„:</code></strong></p><ul><li>Lambdaä½“ä¸­è°ƒç”¨æ–¹æ³•çš„å‚æ•°åˆ—è¡¨ä¸è¿”å›å€¼ç±»å‹ï¼Œè¦ä¸å‡½æ•°å¼æ¥å£ä¸­æŠ½è±¡æ–¹æ³•çš„å‡½æ•°åˆ—è¡¨å’Œè¿”å›å€¼ç±»å‹ä¿å­˜ä¸€è‡´</li><li>è‹¥Lambdaå‚æ•°åˆ—è¡¨ä¸­çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å®ä¾‹æ–¹æ³•çš„è°ƒç”¨è€…ï¼Œè€Œç¬¬äºŒä¸ªå‚æ•°æ˜¯å®ä¾‹æ–¹æ³•çš„å‚æ•°æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ClassName::method</li></ul><h4 id="æ„é€ å™¨å¼•ç”¨"><a href="#æ„é€ å™¨å¼•ç”¨" class="headerlink" title="æ„é€ å™¨å¼•ç”¨"></a>æ„é€ å™¨å¼•ç”¨</h4><p>è¯­æ³•æ ¼å¼ï¼šç±»å::new</p><pre><code>ä¾‹å¦‚ï¼š    Supplier&lt;User&gt; supplier = ()-&gt;new User();ç­‰åŒäºï¼š    Supplier&lt;User&gt; supplier = User::new;</code></pre><p><strong><code>æ³¨æ„:</code></strong><br>éœ€è¦è°ƒç”¨çš„æ„é€ å™¨æ–¹æ³•ä¸å‡½æ•°å¼æ¥å£ä¸­æŠ½è±¡æ–¹æ³•çš„å‚æ•°åˆ—è¡¨ä¿æŒä¸€è‡´ã€‚</p><h4 id="Lambdaæ˜¯æ€ä¹ˆå®ç°çš„ï¼Ÿ"><a href="#Lambdaæ˜¯æ€ä¹ˆå®ç°çš„ï¼Ÿ" class="headerlink" title="Lambdaæ˜¯æ€ä¹ˆå®ç°çš„ï¼Ÿ"></a>Lambdaæ˜¯æ€ä¹ˆå®ç°çš„ï¼Ÿ</h4><p>ç ”ç©¶äº†åŠå¤©Lambdaæ€ä¹ˆå†™ï¼Œå¯æ˜¯å®ƒçš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿæˆ‘ä»¬ç®€å•çœ‹ä¸ªä¾‹å­ï¼Œçœ‹çœ‹çœŸç›¸åˆ°åº•æ˜¯ä»€ä¹ˆï¼š</p><pre><code>public class StreamTest {    public static void main(String[] args) {        printString(&quot;hello lambda&quot;, (String s) -&gt; System.out.println(s));    }    public static void printString(String s, Print&lt;String&gt; print) {        print.print(s);    }}@FunctionalInterfaceinterface Print&lt;T&gt; {    public void print(T t);}</code></pre><p> ä¸Šé¢çš„ä»£ç è‡ªå®šä¹‰äº†ä¸€ä¸ªå‡½æ•°å¼æ¥å£ï¼Œå®šä¹‰ä¸€ä¸ªé™æ€æ–¹æ³•ç„¶åç”¨è¿™ä¸ªå‡½æ•°å¼æ¥å£æ¥æ¥æ”¶å‚æ•°ã€‚ç¼–å†™å®Œè¿™ä¸ªç±»ä»¥åï¼Œæˆ‘ä»¬åˆ°ç»ˆç«¯ç•Œé¢javacè¿›è¡Œç¼–è¯‘ï¼Œç„¶åç”¨javapï¼ˆjavapæ˜¯jdkè‡ªå¸¦çš„åè§£æå·¥å…·ã€‚å®ƒçš„ä½œç”¨å°±æ˜¯æ ¹æ®classå­—èŠ‚ç æ–‡ä»¶ï¼Œåè§£æå‡ºå½“å‰ç±»å¯¹åº”çš„codeåŒºï¼ˆæ±‡ç¼–æŒ‡ä»¤ï¼‰ã€æœ¬åœ°å˜é‡è¡¨ã€å¼‚å¸¸è¡¨å’Œä»£ç è¡Œåç§»é‡æ˜ å°„è¡¨ã€å¸¸é‡æ± ç­‰ç­‰ä¿¡æ¯ã€‚ï¼‰è¿›è¡Œè§£æï¼Œå¦‚ä¸‹å›¾ï¼š</p><ul><li>æ‰§è¡Œjavap -p å‘½ä»¤ (  -p  -private             æ˜¾ç¤ºæ‰€æœ‰ç±»å’Œæˆå‘˜)<br><img src="https://user-gold-cdn.xitu.io/2019/7/16/16bf81c31491a04a?w=990&h=286&f=png&s=346959" alt><br>çœ‹ä¸Šå›¾å‘ç°åœ¨ç¼–è¯‘Lambdaè¡¨è¾¾å¼ç”Ÿæˆäº†ä¸€ä¸ª<code>lambda$main$0</code>é™æ€æ–¹æ³•ï¼Œè¿™ä¸ªé™æ€æ–¹æ³•å®ç°äº†Lambdaè¡¨è¾¾å¼çš„é€»è¾‘ï¼Œç°åœ¨æˆ‘ä»¬çŸ¥é“åŸæ¥Lambdaè¡¨è¾¾å¼è¢«ç¼–è¯‘æˆäº†ä¸€ä¸ªé™æ€æ–¹æ³•ï¼Œé‚£ä¹ˆè¿™ä¸ªé™æ€æ–¹å¼æ˜¯æ€ä¹ˆè°ƒç”¨çš„å‘¢ï¼Ÿæˆ‘ä»¬ç»§ç»­è¿›è¡Œ</li><li>æ‰§è¡Œjavap -v -p å‘½ä»¤ (  -v  -verbose             è¾“å‡ºé™„åŠ ä¿¡æ¯)</li></ul><pre><code>  public com.lxs.stream.StreamTest();    descriptor: ()V    flags: ACC_PUBLIC    Code:      stack=1, locals=1, args_size=1         0: aload_0         1: invokespecial #1                  // Method java/lang/Object.&quot;&lt;init&gt;&quot;:()V         4: return      LineNumberTable:        line 7: 0  public static void main(java.lang.String[]);    descriptor: ([Ljava/lang/String;)V    flags: ACC_PUBLIC, ACC_STATIC    Code:      stack=2, locals=1, args_size=1         0: ldc           #2                  // String hello lambda         2: invokedynamic #3,  0              // InvokeDynamic #0:print:()Lcom/lxs/stream/Print;         7: invokestatic  #4                  // Method printString:(Ljava/lang/String;Lcom/lxs/stream/Print;)V        10: return      LineNumberTable:        line 10: 0        line 12: 10  public static void printString(java.lang.String, com.lxs.stream.Print&lt;java.lang.String&gt;);    descriptor: (Ljava/lang/String;Lcom/lxs/stream/Print;)V    flags: ACC_PUBLIC, ACC_STATIC    Code:      stack=2, locals=2, args_size=2         0: aload_1         1: aload_0         2: invokeinterface #5,  2            // InterfaceMethod com/lxs/stream/Print.print:(Ljava/lang/Object;)V         7: return      LineNumberTable:        line 15: 0        line 16: 7    Signature: #19                          // (Ljava/lang/String;Lcom/lxs/stream/Print&lt;Ljava/lang/String;&gt;;)V  private static void lambda$main$0(java.lang.String);    descriptor: (Ljava/lang/String;)V    flags: ACC_PRIVATE, ACC_STATIC, ACC_SYNTHETIC    Code:      stack=2, locals=1, args_size=1         0: getstatic     #6                  // Field java/lang/System.out:Ljava/io/PrintStream;         3: aload_0         4: invokevirtual #7                  // Method java/io/PrintStream.println:(Ljava/lang/String;)V         7: return      LineNumberTable:        line 10: 0}SourceFile: &quot;StreamTest.java&quot;InnerClasses:     public static final #58= #57 of #61; //Lookup=class java/lang/invoke/MethodHandles$Lookup of class java/lang/invoke/MethodHandlesBootstrapMethods:  0: #27 invokestatic java/lang/invoke/LambdaMetafactory.metafactory:(Ljava/lang/invoke/MethodHandles$Lookup;Ljava/lang/String;Ljava/lang/invoke/MethodType;Ljava/lang/invoke/MethodType;Ljava/lang/invoke/MethodHandle;Ljava/lang/invoke/MethodType;)Ljava/lang/invoke/CallSite;    Method arguments:      #28 (Ljava/lang/Object;)V      #29 invokestatic com/lxs/stream/StreamTest.lambda$main$0:(Ljava/lang/String;)V      #30 (Ljava/lang/String;)V</code></pre><p>è¿™é‡Œåªè´´å‡ºäº†ä¸€éƒ¨åˆ†çš„å­—èŠ‚ç ç»“æ„ï¼Œç”±äºå¸¸é‡æ± å®šä¹‰å¤ªé•¿äº†ï¼Œå°±æ²¡æœ‰ç²˜è´´ã€‚</p><pre><code>InnerClasses:     public static final #58= #57 of #61; //Lookup=class java/lang/invoke/MethodHandles$Lookup of class java/lang/invoke/MethodHandlesBootstrapMethods:  0: #27 invokestatic java/lang/invoke/LambdaMetafactory.metafactory:(Ljava/lang/invoke/MethodHandles$Lookup;Ljava/lang/String;Ljava/lang/invoke/MethodType;Ljava/lang/invoke/MethodType;Ljava/lang/invoke/MethodHandle;Ljava/lang/invoke/MethodType;)Ljava/lang/invoke/CallSite;    Method arguments:      #28 (Ljava/lang/Object;)V      #29 invokestatic com/lxs/stream/StreamTest.lambda$main$0:(Ljava/lang/String;)V      #30 (Ljava/lang/String;)V</code></pre><p>é€šè¿‡è¿™æ®µå­—èŠ‚ç ç»“æ„å‘ç°æ˜¯è¦ç”Ÿæˆä¸€ä¸ªå†…éƒ¨ç±»ï¼Œä½¿ç”¨invokestaticè°ƒç”¨äº†ä¸€ä¸ªLambdaMetafactory.metafactoryæ–¹æ³•ï¼Œå¹¶æŠŠ<code>lambda$main$0</code>ä½œä¸ºå‚æ•°ä¼ äº†è¿›å»ï¼Œæˆ‘ä»¬æ¥çœ‹metafactory çš„æ–¹æ³•é‡Œçš„å®ç°ä»£ç ï¼š</p><pre><code>    public static CallSite metafactory(MethodHandles.Lookup caller,                                       String invokedName,                                       MethodType invokedType,                                       MethodType samMethodType,                                       MethodHandle implMethod,                                       MethodType instantiatedMethodType)            throws LambdaConversionException {        AbstractValidatingLambdaMetafactory mf;        mf = new InnerClassLambdaMetafactory(caller, invokedType,                                             invokedName, samMethodType,                                             implMethod, instantiatedMethodType,                                             false, EMPTY_CLASS_ARRAY, EMPTY_MT_ARRAY);        mf.validateMetafactoryArgs();        return mf.buildCallSite();    }</code></pre><p>åœ¨buildCallSiteçš„å‡½æ•°ä¸­,æ˜¯å‡½æ•°spinInnerClass æ„å»ºäº†è¿™ä¸ªå†…éƒ¨ç±»ã€‚ä¹Ÿå°±æ˜¯ç”Ÿæˆäº†ä¸€ä¸ªStreamTest$$Lambda$1.classè¿™æ ·çš„å†…éƒ¨ç±»,è¿™ä¸ªç±»æ˜¯åœ¨è¿è¡Œçš„æ—¶å€™æ„å»ºçš„ï¼Œå¹¶ä¸ä¼šä¿å­˜åœ¨ç£ç›˜ä¸­ã€‚</p><pre><code>    @Override    CallSite buildCallSite() throws LambdaConversionException {        final Class&lt;?&gt; innerClass = spinInnerClass();        ä»¥ä¸‹çœç•¥ã€‚ã€‚ã€‚    }</code></pre><p>å¦‚æœæƒ³çœ‹åˆ°è¿™ä¸ªæ„å»ºçš„ç±»ï¼Œå¯ä»¥é€šè¿‡è®¾ç½®ç¯å¢ƒå‚æ•°<br>System.setProperty(â€œjdk.internal.lambda.dumpProxyClassesâ€, â€œ . â€œ);<br>ä¼šåœ¨ä½ æŒ‡å®šçš„è·¯å¾„ . å½“å‰è¿è¡Œè·¯å¾„ä¸Šç”Ÿæˆè¿™ä¸ªå†…éƒ¨ç±»ã€‚æˆ‘ä»¬çœ‹ä¸‹ä¸€ä¸‹ç”Ÿæˆçš„ç±»é•¿ä»€ä¹ˆæ ·<br><img src="https://user-gold-cdn.xitu.io/2019/7/16/16bf81c31b9be099?w=1772&h=286&f=png&s=297718" alt><br>ä»å›¾ä¸­å¯ä»¥çœ‹å‡ºåŠ¨æ€ç”Ÿæˆçš„å†…éƒ¨ç±»å®ç°äº†æˆ‘è‡ªå®šä¹‰çš„å‡½æ•°å¼æ¥å£ï¼Œå¹¶ä¸”é‡å†™äº†å‡½æ•°å¼æ¥å£ä¸­çš„æ–¹æ³•ã€‚</p><p>æˆ‘ä»¬åœ¨javap -v -p StreamTest$$Lambda$1.classçœ‹ä¸‹ï¼š</p><pre><code>{  private com.lxs.stream.StreamTest$$Lambda$1();    descriptor: ()V    flags: ACC_PRIVATE    Code:      stack=1, locals=1, args_size=1         0: aload_0         1: invokespecial #10                 // Method java/lang/Object.&quot;&lt;init&gt;&quot;:()V         4: return  public void print(java.lang.Object);    descriptor: (Ljava/lang/Object;)V    flags: ACC_PUBLIC    Code:      stack=1, locals=2, args_size=2         0: aload_1         1: checkcast     #15                 // class java/lang/String         4: invokestatic  #21                 // Method com/lxs/stream/StreamTest.lambda$main$0:(Ljava/lang/String;)V         7: return    RuntimeVisibleAnnotations:      0: #13()}</code></pre><p>å‘ç°åœ¨é‡å†™çš„parintæ–¹æ³•ä¸­ä½¿ç”¨invokestaticæŒ‡ä»¤è°ƒç”¨äº†lambda$main$0æ–¹æ³•ã€‚</p><p><strong>æ€»ç»“ï¼š</strong><br>è¿™æ ·å®ç°äº†Lambdaè¡¨è¾¾å¼ï¼Œä½¿ç”¨invokedynamicæŒ‡ä»¤ï¼Œè¿è¡Œæ—¶è°ƒç”¨LambdaMetafactory.metafactoryåŠ¨æ€çš„ç”Ÿæˆå†…éƒ¨ç±»ï¼Œå®ç°äº†å‡½æ•°å¼æ¥å£ï¼Œå¹¶åœ¨é‡å†™å‡½æ•°å¼æ¥å£ä¸­çš„æ–¹æ³•ï¼Œåœ¨æ–¹æ³•å†…è°ƒç”¨<code>lambda$main$0</code>ï¼Œå†…éƒ¨ç±»é‡Œçš„è°ƒç”¨æ–¹æ³•å—å¹¶ä¸æ˜¯åŠ¨æ€ç”Ÿæˆçš„ï¼Œåªæ˜¯åœ¨åŸclassé‡Œå·²ç»ç¼–è¯‘ç”Ÿæˆäº†ä¸€ä¸ªé™æ€çš„æ–¹æ³•ï¼Œå†…éƒ¨ç±»åªéœ€è¦è°ƒç”¨è¯¥é™æ€æ–¹æ³•ã€‚</p><blockquote><p>æ„Ÿè°¢å¤§å®¶çš„è§‚çœ‹ï¼Œå¸Œæœ›å¤šå¤šå…³æ³¨å“¦ã€‚ å¦‚æœ‰é”™è¯¯ï¼Œçƒ¦è¯·æŒ‡æ­£ã€‚</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> Java8 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€ŒGoå­¦ä¹ ç¬”è®°ã€1.åˆè¯†Go</title>
      <link href="/2019/10/30/go-xue-xi-bi-ji-1-chu-shi-go/"/>
      <url>/2019/10/30/go-xue-xi-bi-ji-1-chu-shi-go/</url>
      
        <content type="html"><![CDATA[<h4 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h4><p>ç”±äºåœ¨å…¬å¸å¹¿æ³›ä½¿ç”¨Dockerçš„å¤§ç¯å¢ƒä¸‹ï¼Œçªç„¶å¯¹å®ƒçš„ç¼–ç¨‹è¯­è¨€ï¼ˆGoï¼‰äº†è§£ä¸‹ã€‚å¹¶ä¸”æ„Ÿè§‰ç°åœ¨Goè¯­è¨€çš„åº”ç”¨ä¹Ÿæ˜¯è¶Šæ¥è¶Šå¹¿æ³›ï¼Œå¾ˆå¤šäº’è”ç½‘å¤§å‚éƒ½åœ¨ä½¿ç”¨ï¼Œç›®å‰åˆ©ç”¨ä¸šä½™æ—¶é—´æ¥å­¦ä¹ ä¸‹ï¼Œä¸»æµè¿˜æ˜¯Javaï¼Œå­¦æ˜ç™½ä»¥åå¯èƒ½è€ƒè™‘è½¬å“¦ğŸ¤¡ã€‚å¦‚æœä½ ä¹Ÿæ„Ÿå…´è¶£ä¸å¦‚ä¸€èµ·æ¥å­¦ä¹ ã€‚</p><h4 id="Goä»‹ç»"><a href="#Goä»‹ç»" class="headerlink" title="Goä»‹ç»"></a>Goä»‹ç»</h4><ul><li><p>ç®€å²</p><p>Goè¯­è¨€æ˜¯Googleäº2009å¹´æ­£å¼å‘å¸ƒçš„ä¸€æ¬¾å¼€æºçš„é™æ€ç¼–è¯‘å‹è¯­è¨€ã€‚Goè¯­è¨€æœ€æ—©äº2007å¹´Robert Griesemer(Java HotSpotè™šæ‹Ÿæœºã€V8å¼•æ“å¼€å‘è€…ä¹‹ä¸€)å’ŒKen Thompson(è´å°”å®éªŒå®¤UNIXå›¢é˜Ÿæˆå‘˜ï¼ŒCè¯­è¨€ã€UNIXå’ŒPlan9åˆ›å§‹äººä¹‹ä¸€)ä¸Rob Pikeä¸‰äººåœ¨ä¸šä½™æ—¶é—´è”åˆå¼€å‘ã€‚ï¼ˆ<code>è€å¤–å°±æ˜¯åŠ</code>ï¼‰æ—¶è‡³ä»Šæ—¥Goè¯­è¨€å·²å®Œæˆè‡ªä¸¾ï¼Œç¤¾åŒºç”Ÿæ€æ–ç„¶ï¼ŒåŒ…æ‹¬å¤§é‡æ‹¿çš„å‡ºæ‰‹çš„æ€æ‰‹é”çº§é¡¹ç›®ï¼ˆMobyã€Dockerã€Kubernetesã€Gogsã€Grafanaã€Etcdï¼‰ã€‚</p></li><li><p>ç‰¹æ€§</p><ol><li>Goè¯­è¨€æ‹¥æœ‰è‡ªåŠ¨åƒåœ¾å›æ”¶åŠŸèƒ½ï¼ŒåŒæ—¶ä¹Ÿå…è®¸å¼€å‘äººå‘˜å¹²é¢„å›æ”¶æ“ä½œã€‚</li><li>Goè¯­è¨€æœ‰ç€æ›´åŠ ä¸°å¯Œçš„å†…ç½®ç±»å‹ï¼Œåœ¨é”™è¯¯å¤„ç†æ–¹é¢è¯­æ³•æ›´åŠ ç²¾ç®€é«˜æ•ˆã€‚</li><li>Goè¯­è¨€å‡½æ•°æ”¯æŒå¤šä¸ªè¿”å›å€¼ï¼Œè€Œå‡½æ•°ä¹Ÿæ˜¯ä¸€ç§ç±»å‹ï¼Œå¯ä»¥ä½œä¸ºå‚æ•°ä¼ é€’ã€‚</li><li>Goè¯­è¨€å¯¹å¤šæ ¸å¤„ç†å™¨ç¼–ç¨‹è¿›è¡Œäº†ä¼˜åŒ–ï¼Œå¯ä»¥ä»ç¨‹åºä¸ç»“æ„æ–¹é¢æ¥å®ç°å¹¶å‘ç¼–ç¨‹ã€‚</li><li>Goè¯­è¨€åˆæ¬¡ç¼–è¯‘é€Ÿåº¦åª²ç¾C/C++,ç”šè‡³äºŒæ¬¡ç¼–è¯‘çš„é€Ÿåº¦æ˜æ˜¾å¿«äºC/C++ï¼ŒåŒæ—¶åˆæ‹¥æœ‰æ¥è¿‘äºPythonç­‰è§£é‡Šå‹è¯­è¨€çš„ç®€æ´ã€‚</li></ol></li><li><p>å‘½åè§„èŒƒ</p><p>Goè¯­è¨€çš„é¡¹ç›®å‘½åä¸€èˆ¬é‡‡ç”¨ ã€åŸŸå+é¡¹ç›®åã€‘ï¼Œä¾‹å¦‚ï¼šgithub.com/example,è¿™æ ·å‘½åçš„ç›®å½•ä¸€æ˜¯å¯ä»¥åˆ†å‰²é¡¹ç›®ï¼Œä¸å®¹æ˜“é‡åï¼ŒäºŒæ˜¯èƒ½å¤Ÿè¿…é€Ÿæ‰¾åˆ°åŸé¡¹ç›®çš„åœ°å€ï¼Œä¸‰æ˜¯æ–¹ä¾¿è·å–ä»£ç åŒ…ã€‚</p></li><li><p>ä»£ç å¼ºåˆ¶æ ¼å¼åŒ–</p><p>Goè¯­è¨€æœ‰ä¸€ä¸ªç‰¹è‰²å°±æ˜¯å¼ºåˆ¶ä»£ç æ ¼å¼åŒ–ï¼Œåœ¨ä½ ä¿å­˜ä»£ç ä¹‹åï¼Œå¯ä»¥ä½¿ç”¨go fmtå·¥å…·æ ¼å¼åŒ–ï¼Œå½“ç„¶å³ä½¿æ²¡æœ‰æ‰‹åŠ¨æ ¼å¼åŒ–ï¼Œåœ¨ç¼–è¯‘æ—¶ï¼ŒGoè¯­è¨€ç¼–è¯‘å™¨ä¹Ÿä¼šè‡ªåŠ¨æ ¼å¼åŒ–æ‰€æœ‰æºä»£ç ï¼Œè¿™ç§å¼ºåˆ¶æ ¼å¼åŒ–çš„åšæ³•å¯ä»¥æœ‰æ•ˆç»Ÿä¸€ç¼–ç é£æ ¼ã€‚</p></li></ul><h4 id="å¼€å‘ç¯å¢ƒ"><a href="#å¼€å‘ç¯å¢ƒ" class="headerlink" title="å¼€å‘ç¯å¢ƒ"></a>å¼€å‘ç¯å¢ƒ</h4><p>ç›®å‰Goè¯­è¨€æ”¯æŒLinuxã€FreeBSDã€Mac OSã€å’ŒWindowså¹³å°ï¼Œå®‰è£…åŒ…å¯ä»¥ä» <a href="https://golang.google.cn/dl/" target="_blank" rel="noopener">https://golang.google.cn/dl/</a> ä¸‹è½½ã€‚</p><p><img src="https://user-gold-cdn.xitu.io/2019/10/12/16dbe83fa456c748?w=1089&h=601&f=png&s=126174" alt></p><h4 id="åŸºæœ¬å‘½ä»¤åŠä½¿ç”¨"><a href="#åŸºæœ¬å‘½ä»¤åŠä½¿ç”¨" class="headerlink" title="åŸºæœ¬å‘½ä»¤åŠä½¿ç”¨"></a>åŸºæœ¬å‘½ä»¤åŠä½¿ç”¨</h4><ul><li><p>åŸºæœ¬å‘½ä»¤<br>å®‰è£…Goè¯­è¨€ç¯å¢ƒåå°±å¯ä»¥ä½¿ç”¨goå‘½ä»¤äº†ï¼Œç›´æ¥è¾“å…¥go helpæŸ¥çœ‹æœ‰å“ªäº›å‘½ä»¤å¯ç”¨ï¼š</p><pre><code>$ go help  goæ˜¯ç”¨äºç®¡ç†Goè¯­è¨€æºä»£ç çš„å·¥å…·ã€‚  ç”¨æ³•ï¼š      go command [arguments]  åŒ…å«çš„å‘½ä»¤å¦‚ä¸‹ï¼š  - build: ç¼–è¯‘æºä»£ç åŒ…å’Œä¾èµ–ã€‚  - clean: åˆ é™¤å¯¹è±¡æ–‡ä»¶ã€‚  - doc: æ˜¾ç¤ºGoåŒ…æˆ–ç¨‹åºå®ä½“çš„æ–‡æ¡£ã€‚  - env: æ‰“å°è¾“å‡ºGoè¯­è¨€ç¯å¢ƒçš„å˜é‡ä¿¡æ¯ã€‚  - bug: bugæäº¤ç¨‹åºã€‚  - fix: ä¿®å¤ç¨‹åºã€‚  - fmt: æ ¼å¼åŒ–æºç åŒ…ä¸­ä»£ç ã€‚  - generate: é€šè¿‡æ‰«æGoæºç ä¸­çš„go:generateæ³¨é‡Šæ¥è¯†åˆ«è¦è¿è¡Œçš„å¸¸è§„å‘½ä»¤ã€‚  - get: ä¸‹è½½å¹¶å®‰è£…æŒ‡å®šçš„åŒ…ä¸ä¾èµ–ã€‚  - install: ç¼–è¯‘å¹¶å®‰è£…æŒ‡å®šçš„åŒ…ä¸ä¾èµ–ã€‚  - list: æ‰“å°æŒ‡å®šæºç åŒ…ä¿¡æ¯ã€‚  - run: ç¼–è¯‘å¹¶è¿è¡ŒGoç¨‹åºã€‚  - test: æµ‹è¯•ä¸€ä¸ªæºç åŒ…ã€‚  - tool: è¿è¡Œä¸€ä¸ªæŒ‡å®šçš„toolã€‚  - version: æ‰“å°è¾“å‡ºGoç¯å¢ƒç‰ˆæœ¬ã€‚  - vet: æ£€æŸ¥æºç åŒ…ä¸­å¯èƒ½å‡ºç°çš„é”™è¯¯ã€‚  ä½¿ç”¨&quot;go help [command]&quot;æŸ¥çœ‹æ¯ä¸€ä¸ªå‘½ä»¤çš„ä½¿ç”¨ç»†èŠ‚ã€‚</code></pre></li><li><p>ç›®å½•ç»“æ„</p><ol><li><p>GOROOTç»“æ„</p><p>$GOROOT ä½œä¸ºGoè¯­è¨€ç¯å¢ƒçš„æ ¹ç›®å½•ï¼Œæ”¾ç½®äº†ä¸‹é¢è¿™äº›å†…å®¹ï¼š</p></li></ol><pre><code>&amp; cd $GOROOT &amp;&amp; ls -l-rw-r--r--    1 root  wheel  55389  9 26 02:52 AUTHORS    # æ‰€æœ‰å‚ä¸Goè¯­è¨€å¼€å‘çš„äººå‘˜åå•-rw-r--r--    1 root  wheel   1339  9 26 02:52 CONTRIBUTING.md    # ä¸ºGoè¯­è¨€è´¡çŒ®ä»£ç çš„è¯´æ˜-rw-r--r--    1 root  wheel  84339  9 26 02:52 CONTRIBUTORS   # æ‰€æœ‰è´¡çŒ®è€…åå•-rw-r--r--    1 root  wheel   1479  9 26 02:52 LICENSE    # Goè¯­è¨€çš„å¼€æºåè®®-rw-r--r--    1 root  wheel   1303  9 26 02:52 PATENTS    # Goè¯­è¨€ä¸“åˆ©è¯´æ˜-rw-r--r--    1 root  wheel   1607  9 26 02:52 README.md    # è¯´æ˜æ–‡ä»¶-rw-r--r--    1 root  wheel    397  9 26 02:52 SECURITY.md-rw-r--r--    1 root  wheel      8  9 26 02:52 VERSION    # Goè¯­è¨€ç‰ˆæœ¬æ–‡ä»¶drwxr-xr-x   19 root  wheel    608  9 26 02:55 api  # Goè¯­è¨€APIç›¸å…³(å˜é‡ã€å¸¸é‡ã€å‡½æ•°)drwxr-xr-x    4 root  wheel    128  9 26 02:55 bin   # ç”¨äºå­˜å‚¨æ ‡å‡†å‘½ä»¤æ‰§è¡Œæ–‡ä»¶ï¼Œgoã€godocã€gofmtä¸‰ä»¶å¥—drwxr-xr-x   50 root  wheel   1600  9 26 02:55 doc   # å­˜æ”¾æ ‡å‡†åº“çš„æ–‡æ¡£-rw-r--r--    1 root  wheel   5686  9 26 02:52 favicon.ico  # Goè¯­è¨€çš„å›¾æ ‡drwxr-xr-x    3 root  wheel     96  9 26 02:55 lib   # å­˜æ”¾ä¸€äº›ç‰¹æ®Šçš„åº“æ–‡ä»¶drwxr-xr-x   16 root  wheel    512  9 26 02:55 misc   # è¾…åŠ©å·¥å…·å’Œè¯´æ˜drwxr-xr-x    6 root  wheel    192  9 26 02:55 pkg    # å­˜æ”¾Goè¯­è¨€æ ‡å‡†åº“ç”Ÿæˆçš„æ–‡ä»¶-rw-r--r--    1 root  wheel     26  9 26 02:52 robots.txt    # ç¦æ­¢æœç´¢å¼•æ“ç´¢å¼•æœ¬åœ°å¯åŠ¨çš„Goæ–‡æ¡£drwxr-xr-x   71 root  wheel   2272  9 26 02:55 src    # å­˜æ”¾GOè¯­è¨€è‡ªå·±çš„æºä»£ç drwxr-xr-x  327 root  wheel  10464  9 26 02:55 test   # å­˜æ”¾æµ‹è¯•éªŒè¯ç›¸å…³çš„æ–‡ä»¶</code></pre><ol start="2"><li><p>GOPATHç»“æ„</p><p>$GOPATHå°±æ˜¯ä¸€ä¸ªå·¥ä½œç›®å½•ï¼Œæˆ‘ä»¬å¼€å‘GOè¯­è¨€ç¨‹åºå°±æ˜¯åœ¨è¿™é‡Œè¿›è¡Œçš„ï¼Œè¿™ä¸ªç›®å½•ä¸€èˆ¬æœ‰ä¸‰ä¸ªæ–‡ä»¶å¤¹ï¼š</p><pre><code>- bin: å­˜æ”¾go installç”Ÿæˆçš„å¯æ‰§è¡Œæ–‡ä»¶å‰é¢æŠŠ$GOPATH/binè·¯å¾„åŠ å…¥PATHç¯å¢ƒå˜é‡åå°±å¯ä»¥åœ¨å…¨å±€ä»»æ„ä½ç½®ä½¿ç”¨è¿™ä¸ªæ–‡ä»¶å¤¹å†…çš„æ‰§è¡Œæ–‡ä»¶ã€‚- pkg: å­˜æ”¾goç¼–è¾‘ç”Ÿæˆçš„æ–‡ä»¶ã€‚- src: å­˜æ”¾æˆ‘ä»¬å¼€å‘çš„Goé¡¹ç›®çš„æºä»£ç ï¼Œä¸ç”¨å·¥ç¨‹é¡¹ç›®çš„ä»£ç å·²åŒ…ååŒºåˆ†ã€‚</code></pre></li></ol></li></ul><h4 id="å¼€å‘å·¥å…·"><a href="#å¼€å‘å·¥å…·" class="headerlink" title="å¼€å‘å·¥å…·"></a>å¼€å‘å·¥å…·</h4><ul><li><p>Visual Studio Code</p><p>æ¥è‡ªå¾®è½¯çš„å¼€æºç¼–è¾‘å™¨Visual Studio Codeçš„ç¡®æ˜¯å¼€å‘Goè¯­è¨€ç¨‹åºçš„å¥½å·¥å…·ä¹‹ä¸€ï¼Œåºå¤§çš„ç”Ÿæ€ç³»ç»Ÿä½¿å¾—å®ƒä¸ä»…ä»…æ˜¯ä¸€ä¸ªç¼–è¾‘å™¨ï¼Œå®ƒè¿˜æ‹¥æœ‰å¤§éƒ¨åˆ†Goè¯­è¨€å¼€å‘è¿‡ç¨‹ä¸­ä½¿ç”¨çš„å·¥å…·é“¾ã€‚</p></li><li><p>VIM-Go</p><p>VIMç¼–è¾‘å™¨æ˜¯å¤§éƒ¨åˆ†ç¨‹åºå‘˜çš„æœ€çˆ±ä¹‹ä¸€ï¼Œåœ¨VIMçš„ç”Ÿæ€ä¸­ä¹Ÿæœ‰ä¸€æ¬¾æ¯”è¾ƒæµè¡Œçš„GOè¯­è¨€å¼€å‘æ’ä»¶â€”-VIM-GOï¼Œå®‰è£…è¿™ä¸ªæ’ä»¶ä¸å®‰è£…å…¶ä»–VIMæ’ä»¶çš„æ–¹æ³•ä¸€æ ·ã€‚</p></li><li><p>Gogland</p><p>æ¥è‡ªè‘—åçš„Jetbrainså…¬å¸å¼€å‘çš„IDEï¼ˆGolandï¼‰æ˜¯ä¸€æ¬¾ä¸“é—¨ä¸ºGoè¯­è¨€å¼€å‘è€Œè®¾è®¡çš„IDEã€‚</p></li><li><p>LiteIDE</p><p>LiteIDEæ˜¯ä¸€æ¬¾ä¸“é—¨ä¸ºGOè¯­è¨€å¼€å‘çš„è·¨å¹³å°è½»é‡çº§é›†æˆå¼€å‘ç¯å¢ƒï¼ŒLiteIDEæ˜¯å¼€æºçš„å·¥å…·ï¼Œä»£ç æ‰˜ç®¡åœ¨githubä¸Šã€‚</p></li></ul><h4 id="ç¬¬ä¸€ä¸ªGoç¨‹åº"><a href="#ç¬¬ä¸€ä¸ªGoç¨‹åº" class="headerlink" title="ç¬¬ä¸€ä¸ªGoç¨‹åº"></a>ç¬¬ä¸€ä¸ªGoç¨‹åº</h4><p>ç°åœ¨å¼€å§‹ç¼–å†™ç¬¬ä¸€ä¸ªç¨‹åºäº†ï¼Œåˆ›å»ºä¸€ä¸ªç»„ç»‡ç›®å½•ï¼Œä¾‹å¦‚ code.local,ç„¶åå»ºç«‹ä¸€ä¸ªé¡¹ç›®åä¸ºhello-word,æœ€ç»ˆç›®å½•è·¯å¾„ä¸º$PATH/src/code.local/hello-word<br><img src="https://user-gold-cdn.xitu.io/2019/10/16/16dd0327863f47b1?w=1610&h=838&f=png&s=695373" alt><br>æ¥æ¥ä¸‹ä½¿ç”¨vim ç¼–è¾‘ä¸€ä¸ªmain.go</p><p><img src="https://user-gold-cdn.xitu.io/2019/10/16/16dd03ab2a011618?w=582&h=286&f=png&s=63707" alt><br>ç„¶å:wqä¿å­˜ï¼Œæ¥æ¥ä¸‹å¯ä»¥ç›´æ¥ä½¿ç”¨go runå‘½ä»¤è¿è¡Œç¨‹åºã€‚<br><img src="https://user-gold-cdn.xitu.io/2019/10/16/16dd03c1e1887a62?w=1216&h=284&f=png&s=163852" alt><br>åˆ°æ­¤æˆ‘ä»¬å°±å®Œæˆäº†ç¬¬ä¸€ä¸ªgoç¨‹åºã€‚éšç€goè¯­è¨€è¶Šæ¥è¶ŠğŸ”¥ï¼Œæˆ‘å¯¹å®ƒä¹Ÿæ˜¯å¾ˆæ„Ÿå…´è¶£ï¼Œæ— å¥ˆæ²¡æœ‰å¤ªå¤šçš„æ—¶é—´æ¥å­¦ä¹ ï¼Œåªèƒ½ç”¨å‘¨æœ«æ¥æŠ½ç©ºçœ‹çœ‹ï¼Œå¸Œæœ›å¤§å®¶å¤šå¤šæ”¯æŒï¼Œå¦‚æœä½ ä¹Ÿå¯¹Goè¯­è¨€æ„Ÿå…´è¶£ï¼Œä¸å¦¨ç‚¹å‡»ä¸‹å…³æ³¨ï¼Œä¸€èµ·å­¦ä¹ ã€‚</p><blockquote><p>æ„Ÿè°¢å¤§å®¶çš„è§‚çœ‹ï¼Œå¸Œæœ›å¤šå¤šå…³æ³¨å“¦ã€‚ å¦‚æœ‰é”™è¯¯ï¼Œçƒ¦è¯·æŒ‡æ­£ã€‚</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> GO </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Go </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
